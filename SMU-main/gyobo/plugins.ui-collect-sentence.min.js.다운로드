/*! @kyobobook/kbb-js v1.0.10 (build 20250618-103334) */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.__KbbJS__=e():(t.__KbbJS__=t.__KbbJS__||{},t.__KbbJS__["plugins.ui-collect-sentence"]=e())}(self,(function(){return(self.webpackChunk_KbbJS_=self.webpackChunk_KbbJS_||[]).push([[660],{30573:function(t,e,s){"use strict";s.d(e,{Fp:function(){return c},aE:function(){return o}});s(91829),s(57170);var i=s(78490),n=s.n(i),a=s(51956);function o(t){let e="".concat(a.CDN_HOST,"/").concat(t);return null===t?"":(t.indexOf("http")>=0?e=t:e.indexOf("localhost")>=0&&(e=e.indexOf("jwplayer")<0?"https://contents.ndev.kyobobook.co.kr/".concat(t):t),e)}function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null===t||(0===e?t=t.replace(/<|>|"|'|%|;|\(|\)|&|\+|-/g,""):1===e?(t=(t=t.replace(/</g,"&lt;")).replace(/>/g,"&gt;"),t=n()(t).call(t,/(?:\r\n|\r|\n|\\r|\\n)/g,"<br/>")):2===e&&(t=(t=t.replace(/</g,"%3C")).replace(/>/g,"%3E"))),t}},76739:function(t,e,s){"use strict";s.d(e,{i:function(){return b},Q:function(){return g}});var i=s(38441),n=s(48306),a=s(73966),o=s(7984),c=s(96526);const l=[{value:a.aZ.CALUMNY,text:"비방, 명예훼손, 욕설, 혐오발언"},{value:a.aZ.PROMOTION,text:"홍보, 영리목적"},{value:a.aZ.OBSCENE,text:"음란, 유해, 불법정보"},{value:a.aZ.UNRELATED,text:"도서와 무관한 내용"},{value:a.aZ.PAPERING,text:"도배 및 내용이 없는 리뷰"},{value:a.aZ.ETC,text:"기타"}];function r(){return(0,c.Rd)("btn_dialog_close","닫기","hidden").prepend((0,c.T0)("ico_dialog_close")).on("click",(()=>this.close()))}function p(){return(0,c.ut)("dialog_header").append(this.isMobile?(0,c.ut)("dialog_title").text("신고/차단"):(0,c.ut)("dialog_title","p").text("신고/차단"))}function d(){const t="신고 내용을 입력해 주세요.",e=(0,c.ut)("form_textarea","TEXTAREA").attr({title:t,placeholder:t,disabled:!0}).css({height:"".concat(this.isMobile?"68px":"55px")}).on("input",function(t){if(!this.isRequiredMessage)return;const e=t.target.value.trim().length;this.getElement("form.btn.declr").prop("disabled",!e)}.bind(this)),{wrap:s}=(0,c.z3)(300,null,e);this.setElement("form.content",e);return(0,c.ut)("byte_check_wrap").append([e,(0,c.ut)("byte_check_footer").append(s)])}function h(t,e){let{value:s,text:i}=t;const n=this.genElementId("rdoinput"),a=[n,e].join("_"),o=(0,c.ut)({id:a,type:"radio",name:n,value:s},"INPUT").on("change",(t=>{this.getElement("form.btn.declr").prop("disabled",!1),this.$selected=o})),l=(0,c.ut)({for:a,text:i},"LABEL"),r=[(0,c.T0)("form_rdo").append([o,l]),"기타"!==i?void 0:d.call(this)].filter(Boolean);return(0,c.ut)("chk_col_item","LI").append(r)}function u(){var t=this;const e=l.map((function(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return h.apply(t,s)})),s=(0,c.ut)("chk_col_list toggle_textarea_list","UL").append(e);return this.setElement("form.list.wrap",s),s}function _(){const t=this.isMobile?(0,c.ut)("title_heading fw_medium"):(0,c.ut)("info_text font_size_sm","P"),e=(0,c.GR)(["round_gray_box type_sub","box_info_inner",u.call(this)]),s=(0,c.ut)("bul_item_asterisk|font_size_xxs|font_size_xs","P").append("허위 신고일 경우, 신고자의 서비스 활동이 제한될 수 있으니 유의하시어".concat(this.isMobile?" ":"<br>","신중하게 신고해 주세요.")),i=(0,c.ut)(this.isMobile?"title_wrap title_size_def":"custom_scroll_wrap").append([t.append(["신고 사유를 선택해 주세요.","신고 내용은 이용약관 및 정책에 의해 처리됩니다."].join("<br/>"))]),n=(0,c.Rd)("btn_md btn_primary","신고").on("click",(()=>this.submit())),a=(0,c.ut)(this.isMobile?"btn_wrap page_bottom":"btn_wrap").append(n),o=(0,c.ut)({class:"hr_style"},"hr"),l=this.isMobile?(0,c.ut)({class:"title_wrap title_size_def"},"div").append((0,c.ut)({class:"title_heading fw_medium",text:"이 글을 작성한 작성자의 모든 글은 블라인드 처리 됩니다."},"p")):(0,c.ut)({class:"info_text font_size_sm",text:"이 글을 작성한 작성자의 모든 글은 블라인드 처리 됩니다."},"p"),r=(0,c.Rd)("btn_md btn_line_gray","차단").on("click",(()=>this.blockSubmit())),p=(0,c.ut)("btn_wrap").append(r);this.setElement("form.btn.declr",n),this.getElement("form.btn.declr").prop("disabled",!0),this.setElement("form.btn.block",r);return(0,c.ut)("dialog_contents").append(this.isMobile?[i,e,s,a,o,l,p]:i.append([e,s,a,o,l,p]))}function m(t){this.$root.addClass("has_btn"),this.isMobile&&this.$root.attr({"data-class":"dialog_bottom"});const e=[...[r,p,_].map((t=>t.call(this)))];this.setOption("innerHtml",e)}class b extends i.a{constructor(){super(),this.article=null,this._$selectedEl=null,this.once(n.cg.CREATE_BEFORE,(()=>m.call(this))),this.on(n.cg.CLOSE,(()=>this.clear())),this.create().then((()=>this.initialized=!0))}get auth(){return this.modules.get("auth")}get postId(){return this.getOption("post.id")}set postId(t){this.setOption("post.id",t)}get type(){return this.getOpion("post.type")}set type(t){this.setOption("post.type",t)}get $selected(){return this._$selectedEl}set $selected(t){if(t===this.$selected)return;null==t&&this.$selected&&this.$selected.prop("checked",!1),this._$selectedEl=t;const e=this.isRequiredMessage;this.$content.prop("disabled",!e),this.getElement("form.btn.declr").prop("disabled",e),e||setTimeout((()=>{this.$content.trigger("focus").trigger("input").prop("selectionEnd")}))}get code(){if(null!=this.$selected)return this.$selected.val()}get isRequiredMessage(){return this.code===a.aZ.ETC}get $content(){return this.getElement("form.content")}get contentValue(){return this.$content.val().trim()}submit(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{id:e,type:s,revwKindCode:i}=this.article.data,c={[a.WT.REPORT_BAN_POST_TYPE]:a.RA[s],[a.WT.REPORT_BAN_ID]:e,[a.WT.REPORT_BAN_CODE]:t?a.aZ.ETC:this.code,[a.WT.REVIEW_KIND_CODE]:i};return(this.isRequiredMessage||t)&&(c[a.WT.REPORT_BAN_MSG]=t?a.B.BLOCK:this.contentValue),a.SL.reportBan(c).then((()=>{"002"===c.revwKindCode?this.ui.alert("차단이 완료되었습니다.\n차단된 작성자의 글은 블라인드 처리됩니다.").then((()=>{this.close(),$(".revw_txt_"+e).html("고객님 요청에 의해 블라인드 처리되었습니다."),$(".revw_num_"+e).remove()})):"004"===c.declrCttsCode?($("#cmnt_num_"+e+" .reply_contents").html('<div class="comment_status_box">\n              <div class="ico_report"></div>\n              <div class="comment_status_text">고객님 요청에 의해 블라인드 처리 되었습니다.</div>\n            </div>'),$("#cmnt_num_"+e+" .report_item").hide()):this.article.emit(o.Iv.UPDATE_ITEMS)})).catch((()=>this.ui.alert(n.AQ.HTTP_ERROR))).finally((()=>{t?(this.ui.alert("차단이 완료되었습니다.\n차단된 작성자의 글은 블라인드 처리됩니다.").then((()=>{this.close()})),$(".revw_txt_"+e).html("고객님 요청에 의해 블라인드 처리되었습니다."),$(".revw_num_"+e).remove()):this.close()}))}blockSubmit(){const{id:t,type:e,authorId:s,revwKindCode:i}=this.article.data,c=$("html").data("service"),l=this.ua.isMobile?a.NH.MOBILE:a.NH.PC,r=this.ua.isMobileApp?this.ua.isAndroid?a.uz.ANDROID:a.uz.IOS:null,p={[a.WT.BLOCK_MMBR_NUM]:s,[a.WT.BLOCK_POST_TYPE]:a.RA[e],[a.WT.BLOCK_POST_ID]:t,[a.WT.BLOCK_TERML_DVSN_CODE]:l,[a.WT.BLOCK_TERML_OS_TYPE_CODE]:r,[a.WT.ONLN_JOB_DVSN_CODE]:c?a.e4[c]:"",[a.WT.REVIEW_KIND_CODE]:i};return a.SL.block(p).then((()=>{this.ui.alert("차단이 완료되었습니다.\n차단된 작성자의 글은 블라인드 처리됩니다.").then((()=>{"002"===p.revwKindCode?($(".revw_txt_"+t).html("고객님 요청에 의해 블라인드 처리되었습니다."),$(".revw_num_"+t).remove(),this.close()):"004"===p.blkCttsCode?(this.article.uber.emit(o.Iv.UPDATE_ITEMS),this.close()):(this.article.emit(o.Iv.UPDATE_ITEMS),this.close(),this.isMobile||window.scrollTo({top:$("#ReviewList1").offset().top}))}))})).catch((()=>this.ui.alert(n.AQ.HTTP_ERROR)))}clear(){this.article=null,this.$selected=null,this.getElement("form.btn.declr").prop("disabled",!0),this.$content.val("").trigger("input")}async open(t){if(!this.active&&null!=t){if(await this.auth.authorize(),!this.auth.authorized)return this.ui.loginAlert();this.article=t,super.open()}}}const g=new b},78691:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return ce}});var i=s(48306),n=s(82324),a=s(13792),o=s(76555),c=s.n(o),l=s(57170),r=s.n(l),p=s(96526);function d(t){const e=this.ua.isMobile;$(".killing_part_contents").length>0&&$(".killing_part_contents").remove();const s=h.call(this,"next"),i=h.call(this,"prev"),n=(0,p.ut)("swiper-wrapper","ul").append(t),a=(0,p.ut)("swiper-container").append(n),o=e?a:[a,s,i];return(0,p.ut)("killing_part_contents killing_part_swiper ".concat(e&&"best"===this.type?"has_title":"")).append(o)}function h(t){const e="next"===t?"다음":"이전";return(0,p.ut)({class:"swiper-button-".concat(t)},"button").append((0,p.ut)({class:"hidden",text:e},"span"))}function u(){var t;null!==(t=this.listComp)&&void 0!==t&&t.renderItems.length&&this.listComp.renderItems.forEach((t=>{if(t.find(".custom_scroll_wrap").length){new SimpleBar(t.find(".custom_scroll_wrap")[0]).recalculate()}}))}function _(){this.swiper=CustomSwiper(".killing_part_swiper .swiper-container",{slidesPerView:"auto",loop:$(".killing_part_swiper .swiper-container").find(".swiper-slide").length>1,speed:500,observer:!0,observeParents:!0,navigation:{nextEl:".killing_part_swiper .swiper-button-next",prevEl:".killing_part_swiper .swiper-button-prev"}})}function m(){const t=this.data.totalCount||0;if(this.ua.isMobile&&(!0===this.getOption("tooltip")||"true"===this.getOption("tooltip"))){const e=(0,p.ut)({class:"btn_tooltip","data-role":"btn-dialog","data-target":"#killingPartTooltip"},"button").append([(0,p.ut)("ico_info","span"),(0,p.ut)({class:"hidden",text:"상세내용 열기"},"span")]);return"문장수집 (".concat((0,p.x6)(t),")").concat(e[0].outerHTML)}return"문장수집 (".concat((0,p.x6)(t),")")}function b(){const t=this.$root.find(".btn_tooltip");if(null===t)return;const e=(0,p.ut)({id:t.attr("data-target").replace(/^#/,""),class:"dialog_wrap","data-class":"dialog_tooltip"}),s=(0,p.ut)({class:"btn_dialog_close"},"button").append([{class:"ico_dialog_close"},{class:"hidden",text:"닫기"}].map((t=>(0,p.ut)(t)),"span"));s.on("click",(t=>{this.tipActive=!1}));const i=(0,p.ut)("dialog_header").append((0,p.ut)({class:"dialog_title",text:"문장수집 안내"})),n=(0,p.ut)("dialog_contents").append([(0,p.ut)({class:"tooltip_desc",text:'문장수집은 고객님들이 직접 선정한 책의\n      좋은 문장을 보여주는 교보문고의 새로운 서비스입니다. 마음을 두드린 문장들을 기록하고 좋은 글귀들은 "좋아요"하여 모아보세요.\n      도서 문장과 무관한 내용 등록 시 별도 통보 없이 삭제될 수 있습니다.'}),(0,p.ut)({class:"tooltip_sub_title",text:"리워드 안내"}),(0,p.ut)({class:"tooltip_desc",text:"구매 후 90일 이내에 문장수집 작성 시 e교환권 100원을 적립해 드립니다.\n    e교환권은 적립일로부터 180일 동안\n    사용 가능합니다.\n    리워드는 작성 후 다음 날 제공되며,\n    발송 전 작성 시 발송 완료 후 익일 제공됩니다.\n    리워드는 한 상품에 최초 1회만 제공됩니다.\n    주문취소/반품/절판/품절 시 리워드 대상에서\n    제외됩니다.\n    판매가 5,000원 미만 상품의 경우 리워드 지급 대상에서 제외됩니다. (2024년 9월 30일부터 적용)"})]);return e.append([s,i,n]),$("body").append(e),e}var g=s(27484),f=s.n(g),C=s(51956),v=s(62839);const k={AL_08_1001:"리스트에 담긴 아이템이 있습니다. 삭제하시겠습니까?",AL_08_1002:"삭제할 상품/콘텐츠를 선택해 주세요.",AL_08_1003:"선택한 상품/콘텐츠를 삭제하시겠습니까?",AL_08_1004:"삭제가 완료되었습니다.",AL_08_1005:"상품이 리스트에 담겼습니다. 리스트로 이동하시겠습니까?",AL_08_1006:"리스트가 변경되었습니다. 리스트로 이동하시겠습니까?",AL_08_1007:"리스트에 추가되었습니다. 리스트로 이동하시겠습니까?",AL_08_1008:"리스트당 최대 700개의 상품/콘텐츠를 담을 수 있습니다. 상품/콘텐츠의 개수를 확인해 주세요",AL_08_1009:"독서 시작일과 같거나 이후 날짜로 선택해 주세요",AL_08_1010:"마이 리스트에 담을 상품을 선택해주세요",AL_08_1011:"이동할 상품/콘텐츠를 선택해주세요",AL_08_1012:"작성한 코멘트도 같이 삭제됩니다. 삭제하시겠습니가?",AL_08_1013:"이 리스트에만 담긴 상품/콘텐츠는 작성한 코멘트도 같이 삭제됩니다. 삭제하시겠습니까?"};var w=s(49804),L=s.n(w),y=s(49837),E=s(5878);function x(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"myr";return t.indexOf(".")<0&&(t="myRoom.nbop.".concat(t)),(0,E.customURL)((0,y.a$)(s,t),e)}function T(t){const e=x("myRoomNbopDeleteList"),s={method:i.w$.DELETE,body:t};return this.$http(e,s).catch((t=>{}))}function S(t){const e=x("myRoomNbopDelete"),s={method:i.w$.DELETE,body:t};return this.$http(e,s).catch((t=>{}))}function O(t){const e=x("productList",t);return this.$http(e).then((t=>t.data)).catch((t=>{}))}function D(t){const e=x("contentsList",t);return this.$http(e).then((t=>t.data)).catch((t=>{}))}function I(t){const e=x("seriesList",t);return this.$http(e).then((t=>t.data)).catch((t=>{}))}function M(t){const e=x("writerList",t);return this.$http(e).then((t=>t.data)).catch((t=>{}))}function A(t){const e=x("brandList",t);return this.$http(e).then((t=>t.data)).catch((t=>{}))}function N(t){const e=x("interest.interestedPersonAlarm"),s={method:i.w$.POST,body:t};return this.$http(e,s).catch((t=>{}))}function R(t){const e=x("interest.cancelInterestedPersonAlarm"),s={method:i.w$.PUT,body:t};return this.$http(e,s).catch((t=>{}))}function P(t){const e=x("interest.seriesAlarm"),s={method:i.w$.POST,body:t};return this.$http(e,s).catch((t=>{}))}function U(t){const e=x("interest.cancelSeriesAlarm"),s={method:i.w$.PUT,body:t};return this.$http(e,s).catch((t=>{}))}function B(t){const e=(0,E.customURL)("/api/gw/myr/my-room/nbop/funding-list",t);return this.$http(e).then((t=>t.data)).catch((t=>{}))}function z(t){const e=(0,E.customURL)("/api/gw/myr/my-room/nbop/funding-tab-list",t);return this.$http(e).then((t=>t.data)).catch((t=>{}))}var Y=s(57508);const K=t=>{let e;switch(t){case"002":case"005":case"006":case"010":e="type_bookcover";break;case"003":case"008":case"004":case"007":e="type_square_round";break;case"013":e=i.q$?"":"type_package";break;case"011":e=i.q$?"":"type_culture";break;case"009":e=i.q$?"":"type_gift_card"}return e};function F(t,e){const s=(0,v.createProdImgAnchor)({...t,lazy:!0,size:"200x0"}),i=(0,v.createEl)(["prod_thumb_box",K(t.myrmDvsnCode),"||size_sm"]).append(s);return null!=e&&e.find("[data-img-before]").before(i),i}function W(t){null==t&&(t=this.genListOptions());const e=Object.assign({el:$(this.isMobile?"ul.prod_row_list":".prod_list",this.$root),pagination:{el:this.$root.find(".pagination"),mapUpdateData:t=>({total:t.totalCount,page:this.page,size:this.pageSize}),events:{change:t=>{let{value:e}=t;e!==this.page&&(this.page=e)}}},infiniteScroll:this.isMobile},t);return new Y.n(e)}function H(){let t="가";switch(this.name){case"product":case"sentences":t="이"}const e="찜한 ".concat(this.label+t," 없습니다."),s=(0,v.createSpanEl)("no_data_desc",e);return(0,v.createEl)("no_data has_bottom_line").append(s)}const{TAB_ITEM_ACTIVE:V}=i.FavorClsName,j="edit_mode";class q extends n.Kp{constructor(t,e){super(t,e),this._myCatCode=null,this._listComp=null;const s=this.$trigger.children("A").attr("href"),i=$(s);this.setElement("top",i);const n=i.find(".tab_list_wrap>UL.tabs");if(n.length){const t=n.children();this.setElement("tabs.wrap",n),this.setElement("tab.items",t)}const a=i.find(this.isMobile?"UL.prod_row_list":".prod_list");this.setElement("list.wrap",a);const o=a.find('INPUT[name="wish-'.concat(this.type,'"]'));this.setElement("list.check.input",o);const c=i.find('INPUT[id="chkSelectChk-'.concat(this.type,'"]'));this.setElement("allcheck.input",c),this.bindSubTabEvents()}get $trigger(){return this.getOption("trigger")}get $top(){return this.getElement("top")}get hasTabs(){return null!=this.getElement("tabs.wrap")}get $tabItems(){return this.getElement("tab.items")}get $activeTab(){return this.$tabItems.filter(".".concat(V))}get $root(){if(!this.hasTabs)return this.$top;const t=this.$activeTab.children("A");if(!t.length)return this.$top;const e=t.attr("href");return this.$top.find(e)}get $list(){return this.hasTabs?this.$root.find(this.isMobile?"UL.prod_row_list":".prod_list"):this.getElement("list.wrap")}get activeTabLabel(){return null==this.myCatCode?this.label:this.$activeTab.find(".tab_text").text()}get $checkList(){return this.getElement("list.check.input")}get $allCheck(){return this.getElement("allcheck.input")}get label(){return this.getOption("label")}get code(){return this.$trigger.data("code")}get name(){return this.getOption("name")}get pageSize(){return this.getOption("pageSize",20)}get listComp(){return this._listComp}get myCatCode(){return this._myCatCode}set myCatCode(t){this.myCatCode!==t&&(this._myCatCode=t,this.reset())}get editMode(){return this.ui.$contents.hasClass(j)}set editMode(t){this.editMode!==t&&(0,v.setClassName)(this.ui.$contents,j,t)}initListComp(t){this.$list.empty(),this._listComp=W.call(this,t)}renderNoData(){this.$list.empty(),this.$list.append(H.call(this)),this.isMobile&&this.$root.find(".list_result_wrap").hide()}bindSubTabEvents(){null!=this.$tabItems&&this.$tabItems.on("click",(t=>{const e=$(t.currentTarget);e.hasClass(V)||(e.siblings().removeClass(V),e.addClass(V));let s=e.data("code");"all"===s&&(s=null),Ot.call(this),this.myCatCode=s}))}genListOptions(){return{}}reset(){}}function G(t){let{discount:e,discountPrice:s,upntAcmlAmnt:i}=t;const n=[{value:e,func:t=>(0,v.createSpanEl)("percent","".concat(t,"%"))},{value:s,func:v.createPriceEl},{value:i,func:t=>(0,v.createSpanEl)("point","(".concat(i,"p)"))}].map((t=>{let{val:e,func:s}=t;var i;if(null!=(i=e)&&0!==i&&(!(0,a.HD)(i)||i.length))return s(e)})).filter(Boolean);return n.length?(0,v.createEl)("prod_price").append(n).prop("outerHTML"):""}function J(t,e,s){const{cmdtName:i,chrcCnt:n,chrcName:a,nbopTrgtCttsIdnfNum:o}=t,c=(0,E.parseProdDetailURL)(t),l=G(t);return e?'<li class="prod_item" data-id="'.concat(o,'">\n        <button type="button" class="btn_my_delete"><span class="hidden">삭제</span></button>\n        <span class="form_chk no_label">\n            <input id="wish-prod-').concat(o,"-").concat(s,'" name="wish-product" type="checkbox" />\n            <label for="wish-prod-').concat(o,"-").concat(s,'"><span class="hidden">상품선택</span></label>\n        </span>\n        <div class="prod_area horizontal">\n            <div data-img-before class="prod_info_box">\n                <a href="').concat(c,'" class="prod_info">\n                    <span class="prod_name ellipsis_single">').concat(i,"</span>\n                </a>\n                ").concat(n>0?'<span class="prod_author" >'.concat(a).concat(n>1?" 외":"","</span>"):"","\n                ").concat(l,"\n            </div>\n        </div>\n      </li>"):'<div class="prod_item" data-id="'.concat(o,'">\n        <div class="prod_area horizontal">\n            <span class="form_chk no_label">\n                <input id="wish-prod-').concat(o,"-").concat(s,'" name="wish-product" type="checkbox" />\n                <label for="wish-prod-').concat(o,"-").concat(s,'"><span class="hidden">상품선택</span></label>\n            </span>\n            <div data-img-before class="prod_info_box">\n                <a href="').concat(c,'" class="prod_info">\n                    <span class="prod_name">').concat(i,"</span>\n                </a>\n                ").concat(n>0?'<span class="prod_author" >'.concat(a).concat(n>1?" 외":"","</span>"):"","\n                ").concat(l,'\n            </div>\n            <div class="right_area">\n                <button type="button" class="btn_my_delete"><span class="hidden">삭제</span></button>\n            </div>\n        </div>\n    </div>')}var Z=s(91829),X=s.n(Z),Q=s(30573);function tt(t,e,s){var i;const{cttsTiteName:n,cttsDvsnName:a,cttsClstCode:o,nbopTrgtCttsIdnfNum:c,myrmDvsnCode:l}=t,r=!(0,C.isEmpty)(l)&&X()(i=[xt.VIDEO]).call(i,l),p=(0,Q.aE)(t.imgFilePath),d=()=>{if(l===xt.CULTURE){const t=function(t){switch(t){case St.LECTURE_TOP_TEN:return"lecture-top-ten";case St.AUTHOR_LECTURE:return"author-lecture";case St.BORA_SHOW:return"bora-show";case St.SAM_LECTURE:return"sam-lecture";case St.CLASSIC_LIST:return"classic-list";case St.READING:return"reading";case St.HUMANITIES:return"humanities";case St.HUMANITIES_ABROAD:return"humanities-abroad";case St.BORA_CLASS:return"bora-class";case St.ONEDAY_CLASS:return"oneday-class";case St.ART_SPACE:return"art-space";case St.BOOK_TICKETS:return"book-tickets";default:return"art-space"}}(o);return(0,C.parseStageURL)("/STO/culture/".concat(t,"/").concat(c))}return(0,C.parseStageURL)("/BCF/".concat(r?"video":"post","/detail/").concat(c))},h=()=>{let t;switch(l){case xt.EBOOK:case xt.EBOOK_SAM:case xt.EBOOK_AUDIO:case xt.EBOOK_DUM:t="type_bookcover";break;case xt.VIDEO:case xt.KYOBO_STUFF:case xt.HOTTRACKS:case xt.EBOOK_VIDEO:t="type_square_round";break;case xt.PACKAGE:t=e?"":"type_package";break;case xt.CULTURE:t=e?"":"type_culture";break;case xt.GIFT_CARD:t=e?"":"type_gift_card";break;default:t=""}return t};return e?'<li class="prod_item" data-id="'.concat(c,'">\n        <button type="button" class="btn_my_delete"><span class="hidden">삭제</span></button>\n        <span class="form_chk no_label">\n            <input id="wish-contents-').concat(c,"-").concat(s,'" name="wish-contents" type="checkbox" />\n            <label for="wish-contents-').concat(c,"-").concat(s,'"><span class="hidden">상품선택</span></label>\n        </span>\n        <div class="prod_area horizontal">\n          <div class="prod_thumb_box ').concat(h(),'">\n            <a href="').concat(d(),'" class="prod_link">\n              <span class="img_box">\n                <img src="').concat(p,'" alt="콘텐츠 이미지" onerror="$(this).parent().addClass(\'no_img\')">\n              </span>\n            </a>\n          </div>\n          <div class="prod_info_box">\n            <a href="').concat(d(),'" class="prod_info">\n                <span class="prod_name ellipsis_single">').concat(n,"</span>\n            </a>\n            ").concat(null!==a?'<span class="prod_author" > '.concat(a,"</span>"):"","\n          </div>\n        </div>\n      </li>"):'<div class="prod_item" data-id="'.concat(c,'">\n        <div class="prod_area horizontal">\n            <span class="form_chk no_label">\n                <input id="wish-contents-').concat(c,"-").concat(s,'" name="wish-contents" type="checkbox" />\n                <label for="wish-contents-').concat(c,"-").concat(s,'"><span class="hidden">상품선택</span></label>\n            </span>\n            <div class="prod_thumb_box ').concat(h(),'">\n              <a href="').concat(d(),'" class="prod_link">\n                <span class="img_box">\n                  <img src="').concat(p,'" alt="콘텐츠 이미지" onerror="$(this).parent().addClass(\'no_img\')">\n                </span>\n              </a>\n            </div>\n            <div class="prod_info_box">\n              <a href="').concat(d(),'" class="prod_info">\n                  <span class="prod_name">').concat(n,"</span>\n              </a>\n             ").concat(null!==a?'<span class="prod_author" > '.concat(a,"</span>"):"",'\n            </div>\n            <div class="right_area">\n                <button type="button" class="btn_my_delete"><span class="hidden">삭제</span></button>\n            </div>\n        </div>\n    </div>')}function et(t,e,s){return e?it.call(this,t,s):st.call(this,t,s)}function st(t,e){const s=(0,v.createEl)({class:"prod_item","data-id":t.nbopTrgtCttsIdnfNum}),i=(0,v.createEl)({class:"prod_area horizontal",html:'\n        <span class="form_chk no_label">\n            <input id="wish-series-'.concat(t.nbopTrgtCttsIdnfNum,"-").concat(e,'" name="wish-series" type="checkbox" />\n            <label for="wish-series-').concat(t.nbopTrgtCttsIdnfNum,"-").concat(e,'"><span class="hidden">상품선택</span></label>\n        </span>')}),n=(0,v.createEl)({class:"prod_thumb_box type_package"});let o="series";"003"===t.cmdtRltsPatrCode?o="series":"010"===t.cmdtRltsPatrCode&&(o="collection");const c=this.modules.get("ui").createPdtImgWrap({pid:t.saleCmdtid,bid:t.cmdtcode,adult:t.saleLmttAge,size:"200x0"}).attr("href","#");c.attr("data-target","#popSeriesList"),c.attr("data-flag",o),c.attr("data-id",t.saleCmdtid),c.attr("data-cmdtrltspatrcode",t.cmdtRltsPatrCode),c.attr("data-stnrCmdtid",t.stnrCmdtid);const l=(0,v.createEl)({class:"prod_info_box",html:'  <a href="#" class="prod_info" data-target="#popSeriesList" data-cmdtrltspatrcode='.concat(t.cmdtRltsPatrCode," data-flag= ").concat(o," data-id= ").concat(t.saleCmdtid," data-stnrCmdtid=").concat(t.stnrCmdtid,'>\n        <span class="prod_name ellipsis_none">').concat(t.cmdtName,'</span>\n    </a>\n    <span class="prod_author">').concat("series"===o?"시리즈":"총서"," ").concat(t.seriesCount,"권</span>")}),r='\n    <div class="right_area">\n     '.concat("Y"===t.alarmYson?'<button type="button" data-alarm-series class="btn_xs btn_pill btn_alarm active"><span class="ico_alarm"><span class="hidden">알림</span></span><span class="text">ON</span></button>':'<button type="button" data-alarm-series class="btn_xs btn_pill btn_alarm"><span class="ico_alarm"><span class="hidden">알림</span></span><span class="text">OFF</span></button>','\n        <button type="button" class="btn_my_delete"><span class="hidden">삭제</span></button>\n    </div>');i.append(n.append(c),l,r),s.append(i);const p=(0,v.createEl)("series_prod_wrap"),d=(0,v.createEl)("prod_swiper_wrap size_xs swiper-container"),h=(0,v.createEl)("prod_list swiper-wrapper","ul");if(!(0,a.xb)(t.seriesSubList))for(const e of t.seriesSubList){const s=(0,v.createProdImgAnchor)({...e,lazy:!0,size:"100x0"}),i=(0,v.createEl)("prod_thumb_box").append(s),n=(0,v.createEl)("prod_area").append(i),a=(0,v.createEl)({class:"prod_item swiper-slide ".concat("Y"===e.newYn?"update":""),"data-id":t.nbopTrgtCttsIdnfNum},"li").append(n);h.append(a)}return h.append('<div class="swiper-scrollbar"></div>'),p.append(d.append(h)),s.append(p),s}function it(t,e){const s=(0,v.createEl)({class:"prod_item","data-id":t.nbopTrgtCttsIdnfNum,html:'<button type="button" class="btn_my_delete"><span class="hidden">삭제</span></button>\n        <span class="form_chk no_label">\n          <input id="wish-series-'.concat(t.nbopTrgtCttsIdnfNum,"-").concat(e,'" name="wish-series" type="checkbox" />\x3c!-- 수정 220200 단일태그 닫기 추가 --\x3e\n          <label for="wish-series-').concat(t.nbopTrgtCttsIdnfNum,"-").concat(e,'"><span class="hidden">상품선택</span></label>\n       </span>')},"li"),i=(0,v.createEl)({class:"prod_area horizontal"}),n=(0,v.createEl)({class:"prod_thumb_box"});let o="";"003"===t.cmdtRltsPatrCode?o="series":"010"===t.cmdtRltsPatrCode&&(o="collection");const c=this.modules.get("ui").createPdtImgWrap({pid:t.saleCmdtid,bid:t.cmdtcode,adult:t.saleLmttAge,size:"200x0"}).attr("href","#");c.attr("data-target","#popSeriesList"),c.attr("data-flag",o),c.attr("data-id",t.saleCmdtid),c.attr("data-cmdtrltspatrcode",t.cmdtRltsPatrCode),c.attr("data-stnrCmdtid",t.stnrCmdtid);const l=(0,v.createEl)({class:"prod_info_box",html:'  <a href="#" class="prod_info" data-target="#popSeriesList" data-cmdtrltspatrcode='.concat(t.cmdtRltsPatrCode," data-flag= ").concat(o," data-id= ").concat(t.saleCmdtid," data-stnrCmdtid=").concat(t.stnrCmdtid,'>\n        <span class="prod_name ellipsis_none">').concat(t.cmdtName,'</span>\n    </a>\n    <span class="prod_author">').concat("series"===o?"시리즈":"총서"," ").concat(t.seriesCount,"권</span>")}),r=(0,v.createEl)({class:"btn_wrap auto",html:'\n      <button data-alarm-series type="button" class="btn_xxs btn_pill btn_alarm '.concat("Y"===t.alramYson?"active":"",'"><span class="ico_alarm"><span class="hidden">알림</span></span><span class="text">').concat("Y"===t.alramYson?"ON":"OFF","</span></button>\n    ")});l.append(r),i.append(n.append(c),l),s.append(i);const p=(0,v.createEl)("series_prod_wrap"),d=(0,v.createEl)("prod_swiper_wrap size_min swiper-container"),h=(0,v.createEl)("prod_list swiper-wrapper","ul");if(!(0,a.xb)(t.seriesSubList))for(const e of t.seriesSubList){const s=(0,v.createProdImgAnchor)({...e,lazy:!0,size:"100x0"}),i=(0,v.createEl)("prod_thumb_box").append(s),n=(0,v.createEl)("prod_area").append(i),a=(0,v.createEl)({class:"prod_item swiper-slide ".concat("Y"===e.newYn?"new":""),"data-id":t.nbopTrgtCttsIdnfNum},"li").append(n);h.append(a)}return p.append(d.append(h)),s.append(p),s}function nt(){const t=$(".series_prod_wrap .prod_swiper_wrap");if(t.length){for(let e=0;e<t.length;e++)CustomSwiper(t[e],{slidesPerView:"auto",freeMode:!0});t.each((function(){const t=$(this);$(".swiper-slide",t).length>0&&CustomSwiper(t,{slidesPerView:"auto",speed:500,scrollbar:{el:$(".swiper-scrollbar",t)[0]},freeMode:!0,keyboard:!0})}))}}function at(t){const e={price:t.price,discount:t.discount,discountPrice:t.discountPrice,point:t.upntAcmlAmnt},s={tag:t.reviewText,score:t.reviewScore,count:t.reviewCount},i={code:(n=t.policy,n.oneDayShipping?"001":n.buy&&n.reservationSale?"003":"004"),text:t.estimated};var n;return{size:"200x0",id:t.saleCmdtId,barcode:t.cmdtCode,dvsnCode:t.saleCmdtDvsnCode,grpCode:t.saleCmdtGrpDvsnCode,adult:t.saleLmttAge,date:t.pubDate,title:t.name,author:t.author,like:t.policy.likeOnOff,priceInfo:e,intro:t.mdmemo,kloverInfo:s,ctaBtn:t.policy,shipping:i}}const ot=(0,y.a$)("pdt","detail");function ct(){const t=$("#popSeriesList"),e=t.find(".dialog_title");this.$root.find('[data-target="#popSeriesList"]').off("click").on("click",(s=>{this.popData.page=1,this.popData.flag=$(s.currentTarget).data("flag")||"series",this.popData.seriesId=$(s.currentTarget).data("id");const i="series"===this.popData.flag?"이 책의 시리즈":"이 책의 총서";if(e.text(i),rt.call(this,t),""===this.popData.flag)return this.ui.toast("존재하지않는 시리즈/총서입니다.");lt.call(this).then((()=>{setTimeout((()=>t.dialog("open")),20)}))})),t.on("dialogclose",(()=>{this.popListComp.empty()}))}function lt(){if(this.popListComp.pending)return;this.popListComp.emit("render-start");const{page:t,seriesId:e,flag:s}=this.popData,i={page:t,per:20},n=(0,E.customURL)("".concat(ot,"/").concat(e,"/").concat(s,"/detail"),i);return this.$http(n).then((t=>{t.total=t.data[0].totalCount,t.page=(0,a.U2)(i,"page",1),t.pageSize=20,this.isMobile?this.popListComp.append(t):this.popListComp.data=t}))}function rt(t){const e={data:t=>t.data,item:{type:"product-type-1",tagId:"series"===this.popData.flag?"chkShowcaseSeries":"chkShowcaseEdition",wrap:"#popSeriesList",mapData:at}},s={el:t.find(".pagination"),ready:()=>this.popListComp.pagi.on("change",(t=>{this.popData.page=t.value,lt.call(this)})),mapUpdateData:t=>({total:t.total,page:t.page,size:20})},i={el:t.find(".prod_list"),render:e,pagination:s};this._popListComp=W.call(this,i)}const pt=function(t){const e=t.map((t=>{const e=(0,v.createProdImgAnchor)(t),s=f()().format("YYYY-MM-DD"),i=+t.rlseDate,n=new Date(i/1e4,i%1e4/100,i%100),a=f()(n).format("YYYY-MM-DD"),o=f()(s).diff(a,"month")<=1?"|update|new":void 0;return(0,v.createWrapperEl)([(0,v.createEl)(["prod_item swiper-slide",o],"LI"),(0,v.createEl)("prod_area"),(0,v.createEl)("prod_thumb_box"),e])}));return(0,v.createEl)("prod_list swiper-wrapper","UL").append(e)};function dt(t){if(!t.length)return;const e=t.map((t=>{const e=t.chrcClstName.split("&gt;").map(((t,e)=>(0,v.createSpanEl)("genre",t).prop("outerHTML"))).join('<span class="gap"> &gt; </span>'),s=i.q$?"LI":"DIV";return(0,v.createEl)("person_genre_item",s).append(e)})),s=i.q$?"UL":"DIV";return(0,v.createEl)("person_genre_list",s).append(e)}function ht(t,e){const{clstList:s,chrcCode:i,productList:n,chrcName:a,nbopTrgtCttsIdnfNum:o,alramYson:c,url:l}=t,r=dt(s),p=pt(n);return'\n  <div class="prod_item" data-id="'.concat(o,'">\n      \x3c!-- 작가 영역 --\x3e\n      <div class="person_info_area type_lg">\n          \x3c!-- 체크박스 영역 --\x3e\n          <span class="form_chk no_label">\n            \x3c!-- 수정 220200 단일태그 닫기 추가 --\x3e\n            <input id="wish-writer-').concat(o,"-").concat(e,'" name="wish-writer"type="checkbox" />\n            <label for="wish-writer-').concat(o,"-").concat(e,'"><span class="hidden">인물선택</span></label>\n          </span>\n          \x3c!-- // 체크박스 영역 --\x3e\n          <div class="person_profile_box">\n              <div class="profile_img">\n                  <a href="').concat(l,'">\n                    <img data-kbbfn="s3-image"\n                    data-kbbfn-pid="').concat(i,'"\n                    data-kbbfn-title="').concat(a,'"\n                    data-kbbfn-img-type="author"\n                    alt="인물 프로필 사진" />\n                  \x3c!-- 수정 220504 단일태그 닫기 추가 --\x3e\n                  </a>\n              </div>\n              <div class="profile_info">\n                <div class="person_name">\n                    <span class="name"><a href="').concat(l,'">').concat(a,"</a></span>\n                </div>\n                ").concat(r?r.prop("outerHTML"):"",'\n              </div>\n          </div>\n          <div class="right_area">\n              <button data-alarm-writer type="button" class="btn_xs btn_pill btn_alarm ').concat("Y"===c?"active":"",'"><span class="ico_alarm"><span class="hidden">알림</span></span><span class="text">').concat("Y"===c?"ON":"OFF",'</span></button>\n              <button type="button" class="btn_my_delete"><span class="hidden">삭제</span></button>\n          </div>\n      </div>\n      \x3c!-- // 작가 영역 --\x3e\n      <div class="series_prod_wrap">\n          <div class="prod_swiper_wrap size_xs swiper-container">\n              ').concat(p.prop("outerHTML"),'\n              <div class="swiper-scrollbar"></div>\n          </div>\n      </div>\n      \x3c!--//series_prod_wrap--\x3e\n  </div>')}function ut(t,e){const{clstList:s,chrcCode:i,productList:n,chrcName:a,nbopTrgtCttsIdnfNum:o,url:c}=t,l=dt(s),r=pt(n);return'\n  <li class="prod_item" data-id="'.concat(o,'">\n    <button type="button" class="btn_my_delete"><span class="hidden">삭제</span></button>\n    \x3c!-- 체크박스 영역 --\x3e\n    <span class="form_chk no_label">\n        <input id="wish-writer-').concat(o,"-").concat(e,'" name="wish-writer"type="checkbox"type="checkbox" />\x3c!-- 수정 220504 단일태그 닫기 추가 --\x3e\n        <label for="wish-writer-').concat(o,"-").concat(e,'"><span class="hidden">인물선택</span></label>\n    </span>\n    \x3c!-- // 체크박스 영역 --\x3e\n    \x3c!-- 작가 정보 영역 --\x3e\n    <div class="person_profile_box">\n        <div class="profile_img">\n          <a href="').concat(c,'">\n            <img data-kbbfn="s3-image"\n              data-kbbfn-pid="').concat(i,'"\n              data-kbbfn-title="').concat(a,'"\n              data-kbbfn-img-type="author"\n              alt="인물 프로필 사진" />\n          </a>\n        </div>\n        <div class="profile_info">\n            <div class="person_name ellipsis_none"><span class="name"><a href="').concat(c,'">').concat(a,"</a></span>\n            </div>\n            ").concat(l?l.prop("outerHTML"):"",'\n        </div>\n        <div class="btn_wrap auto">\n            <button data-alarm-writer type="button" class="btn_xxs btn_pill btn_alarm active"><span class="ico_alarm"><span class="hidden">알림</span></span><span class="text">ON</span></button>\n        </div>\n    </div>\n    \x3c!-- // 작가 정보 영역 --\x3e\n    <div class="series_prod_wrap">\n        <div class="prod_swiper_wrap size_min swiper-container">\n          ').concat(r.prop("outerHTML"),"\n        </div>\n    </div>\n  </li>")}function _t(t,e){const s=(0,E.parseStageURL)("/ONK/service/profile/information?chrcCode=".concat(t.chrcCode));Object.assign(t,{url:s});return(i.q$?ut:ht).apply(this,[t,e])}function mt(t,e,s){const{nbopTrgtCttsIdnfNum:i,fndgPrjtTiteName:n,prjtCdtnCode:a,deadlineYsno:o}=t,c=(0,C.parseStageURL)("/EVT/funding/detail/".concat(i));return e?'<li class="prod_item" data-id="'.concat(i,'">\n        <button type="button" class="btn_my_delete"><span class="hidden">삭제</span></button>\n        <span class="form_chk no_label">\n            <input id="wish-prod-').concat(i,"-").concat(s,'" name="wish-funding" type="checkbox" />\n            <label for="wish-prod-').concat(i,"-").concat(s,'"><span class="hidden">상품선택</span></label>\n        </span>\n        <div class="prod_area horizontal">\n            <div data-img-before class="prod_info_box">\n                <a href="').concat(c,'" class="prod_info">\n                    <span class="prod_name ellipsis_single">').concat(n,"</span>\n                </a>\n            </div>\n        </div>\n      </li>"):'<div class="prod_item" data-id="'.concat(i,'">\n        <div class="prod_area horizontal">\n            <span class="form_chk no_label">\n                <input id="wish-funding-').concat(i,"-").concat(s,'" name="wish-funding" type="checkbox" />\n                <label for="wish-funding-').concat(i,"-").concat(s,'"><span class="hidden">상품선택</span></label>\n            </span>\n            <div data-img-before class="prod_info_box">\n                <span class="txt_comm">').concat(function(t,e){const s={101:"오픈예정",102:"진행중",103:"종료"};if("102"===t&&"Y"===e)return"마감임박";if("104"===t)return"종료";return s[t]}(a,o),'</span>\n                <a href="').concat(c,'" class="prod_info">\n                    <span class="prod_name">').concat(n,'</span>\n                </a>\n            </div>\n            <div class="right_area">\n                <button type="button" class="btn_my_delete"><span class="hidden">삭제</span></button>\n            </div>\n        </div>\n    </div>')}const{TAB_ITEM_ACTIVE:bt}=C.FavorClsName;function gt(){const t=$("#tab-funding").find(".tab_item");null!=t&&t.on("click",(t=>{const e=$(t.currentTarget);if(!e.hasClass(bt)){e.siblings().removeClass(bt),e.addClass(bt);let t=e.data("code");"all"===t&&(t=null),this.myCatCode=t}}))}function ft(t){const e=this.uber.$mainTabItems.filter('[data-id="'.concat(t,'"]')),s=e.children("A"),i=e.data("name");s.children().text("".concat(i,"(").concat(this.totalCount,")"))}const{TAB_ITEM_ACTIVE:Ct}=C.FavorClsName,vt={TOTAL:"전체",KOR:"국내도서",ENG:"보유외서",JAP:"보유일서",POD:"POD",BNT:"해외주문외서",JNT:"해외주문일서",MUC:"음반",DVD:"DVD",GFT:"기프트",CUL:"컬쳐",MOV:"동영상",PBC:"PB상품",GFC:"상품권",OPN:"오픈마켓",OPT:"판매옵션상품",CMB:"결합상품",EBK:"eBook",AUD:"오디오북",VID:"동영상북",DUM:"학술논문",EBP:"eBook+",KDS:"키즈북",DMA:"e매거진",ELN:"E-Learning",SAM:"SAM",MNY:"금권",XCB:"코믹북",SXT:"세트상품",XET:"마이크레이션",DGV:"디지털바우처"};function kt(t,e){const s=function(t){const e=(0,C.parseStageURL)("/EVT/funding/detail/".concat(t.nbopTrgtCttsIdnfNum));t.imgUrl=t.fndgPrjtRprsImgAtacFileUrladrs;for(var s=arguments.length,i=new Array(s>1?s-1:0),n=1;n<s;n++)i[n-1]=arguments[n];return(0,C.createWrapperEl)([(0,C.createEl)("prod_link","A").attr("href",e),(0,C.createSpanEl)("img_box no_img"),(0,C.createS3ImgEl)(t,...i)])}({...t,lazy:!0,size:"200x0"}),i=(0,C.createEl)(["prod_thumb_box",$t(t.myrmDvsnCode),"||size_sm"]).append(s);null!=e&&e.find("[data-img-before]").before(i)}const $t=t=>{let e;switch(t){case"002":case"005":case"006":case"010":e="type_bookcover";break;case"003":case"008":case"004":case"007":e="type_square_round";break;case"013":e=C.IS_MOBILE?"":"type_package";break;case"011":e=C.IS_MOBILE?"":"type_culture";break;case"009":e=C.IS_MOBILE?"":"type_gift_card"}return e};function wt(){this.$list.empty(),this.$list.append(function(){const t="찜한 프로젝트가 없습니다.",e=(0,C.createSpanEl)("no_data_desc",t);return(0,C.createEl)("no_data has_bottom_line").append(e)}()),this.isMobile&&this.$root.find(".list_result_wrap").hide()}function Lt(t){let e;const s=[...new Set(t.map((t=>t)))].map((t=>(e=this.myCatCode===t,yt(t,e))));return e=null===this.myCatCode,s.unshift(yt("all",e)),s}function yt(t,e){let s;if(s=null!==t&&""!==t&&"all"!==t?(0,C.createSpanEl)("tab_text",vt[t]):(0,C.createSpanEl)("tab_text","전체"),C.IS_MOBILE){const i=(0,C.createEl)("tab_link","A").attr({href:"#tabContentWishTag-".concat(t)}).append(s);return(0,C.createEl)("tab_item".concat(e?" ".concat(Ct):""),"LI").attr({"data-code":t}).append(i)}{const i=(0,C.createEl)("tab_link","BUTTON").attr({type:"button"}).append(s);return(0,C.createEl)("tab_item".concat(e?" ".concat(Ct):""),"LI").attr({"data-code":t}).append(i)}}const Et={PRODUCT:"001",CONTENTS:"002",SENTENCES:"003",SERIES:"004",WRITER:"005",BRAND:"006",FUNDING:"007"},xt={BOOK:"001",EBOOK:"002",VIDEO:"003",HOTTRACKS:"004",EBOOK_SAM:"005",EBOOK_AUDIO:"006",EBOOK_VIDEO:"007",KYOBO_STUFF:"008",GIFT_CARD:"009",EBOOK_DUM:"010",CULTURE:"011",POST:"012",PACKAGE:"013",FUNDING:"014"},Tt=[{id:Et.PRODUCT,options:{name:"product",label:"상품",pageSize:20},Module:class extends q{constructor(t,e){super(t,e),this._itemList=[],this._page=1,this._checkedList=[],this._myrmDvsnCode=null,this.type="product",this._edit=!1,this._totalCount=0,this.init()}get page(){return this._page}set page(t){this._page=t,this.fetchList()}get totalCount(){return this._totalCount}set totalCount(t){this._totalCount=t,this.updateDom(t)}get checkedList(){return this._checkedList}set checkedList(t){this._checkedList=t,$("[data-count-select]",this.$root).text(t.length),this.isMobile||$(".result_count .fc_green",this.$root).text(t.length)}set itemList(t){this._itemList=t}get itemList(){return this._itemList}set edit(t){this._edit=t}get edit(){return this._edit}get $list(){return $(this.isMobile?"ul.prod_row_list":".prod_list",this.$root)}get $checkList(){return $('input[name="wish-'.concat(this.type,'"]'),this.$list)}get $allCheck(){return $('input[id="chkSelectChk-'.concat(this.type,'"]'),this.$root)}reset(){this.initListComp(),this.isMobile&&$("[data-wish-cancel]",this.$root).trigger("click"),this.checkedList=[],this.page=1}init(){this.initListComp(),this.fetchList(),Ot.call(this),this.initialized=!0}fetchList(){const t={page:this.page,pageLimit:this.pageSize};this.myCatCode&&(t.myrmDvsnCode=this.myCatCode),O.call(this,t).then((t=>{const e=t.nbopProductList.slice();if(this.totalCount=t.totalCount,this.isMobile&&1===this.page&&(this.itemList=[]),!this.totalCount)return this.renderNoData();var s;this.isMobile?(this.$root.find(".list_result_wrap").show(),this.itemList=L()(s=[this.itemList.slice(),e]).call(s),this.listComp.append(t)):(this.itemList=e,this.checkedList=[],this.listComp.data=t);this.$allCheck.prop("checked",!1)}))}updateDom(t){if($(".no_data").remove(),this.isMobile)$(".result_count .fc_green",this.$root).text(t);else{const e='<span class="check_count">\n      <span class="fw_bold" data-count-select>'.concat(this.checkedList.length,'</span>/<span id="totalCount">').concat(t,"</span></span>");$('label[for="chkSelectChk-product"]').html("찜한 ".concat(this.activeTabLabel," ").concat(e))}}genListOptions(){return{render:{data:t=>t.nbopProductList.slice(),item:(t,e)=>{"005"===this.myCatCode&&(t.saleCmdtDvsnCode="SAM");const s=$(J.call(this,t,this.isMobile,e));return Rt.call(this,s),At.call(this,s),F.apply(this,[t,s]),s}}}}}},{id:Et.CONTENTS,options:{name:"contents",label:"콘텐츠",pageSize:20},Module:class extends q{constructor(t,e){super(t,e),this._itemList=[],this._page=1,this._checkedList=[],this._myrmDvsnCode=null,this.type="contents",this._edit=!1,this._totalCount=0,this.init()}get page(){return this._page}set page(t){this._page=t,this.fetchList()}get totalCount(){return this._totalCount}set totalCount(t){this._totalCount=t,this.updateDom(t)}get checkedList(){return this._checkedList}set checkedList(t){this._checkedList=t,$("[data-count-select]",this.$root).text(t.length),this.isMobile||$(".result_count .fc_green",this.$root).text(t.length)}set itemList(t){this._itemList=t}get itemList(){return this._itemList}set edit(t){this._edit=t}get edit(){return this._edit}get $list(){return $(this.isMobile?"ul.prod_row_list":".prod_list",this.$root)}get $checkList(){return $('input[name="wish-'.concat(this.type,'"]'),this.$list)}get $allCheck(){return $('input[id="chkSelectChk-'.concat(this.type,'"]'),this.$root)}reset(){this.initListComp(),this.isMobile&&$("[data-wish-cancel]",this.$root).trigger("click"),this.checkedList=[],this.page=1}init(){this.initListComp(),this.fetchList(),Ot.call(this),this.initialized=!0}fetchList(){const t={page:this.page,pageLimit:this.pageSize};this.myCatCode&&(t.myrmDvsnCode=this.myCatCode),D.call(this,t).then((t=>{if(this.totalCount=t.totalCount,!this.totalCount)return this.renderNoData();this.isMobile&&1===this.page&&(this.itemList=[]),this.isMobile?($(".list_result_wrap",this.$root).show(),this.itemList=[...this.itemList,...t.nbopContentsList],this.listComp.append(t),this.$root.find('input[id="chkSelectChk"]').prop("checked",!1)):(this.itemList=t.nbopContentsList,this.checkedList=[],this.listComp.data=t),this.$allCheck.prop("checked",!1)}))}updateDom(t){if($(".no_data").remove(),this.isMobile)$(".result_count .fc_green",this.$root).text(t);else{const e='<span class="check_count">\n      <span class="fw_bold" data-count-select>'.concat(this.checkedList.length,'</span>/<span id="totalCount">').concat(t,"</span></span>");$('label[for="chkSelectChk-contents"]').html("찜한 ".concat(this.activeTabLabel," ").concat(e))}}genListOptions(){return{render:{data:t=>t.nbopContentsList,item:(t,e)=>{const s=$(tt(t,this.isMobile,e));return Rt.call(this,s),At.call(this,s),s}}}}}},{id:Et.SENTENCES,options:{name:"sentences",label:"문장수집",pageSize:20},Module:class extends q{}},{id:Et.SERIES,options:{name:"series",label:"시리즈/총서",pageSize:5},Module:class extends q{constructor(t,e){super(t,e),this._itemList=[],this._page=1,this._checkedList=[],this._myrmDvsnCode=null,this.type="series",this._edit=!1,this._totalCount=0,this._popListComp=null,this._popData={},this.init()}get popData(){return this._popData}get popListComp(){return this._popListComp}get page(){return this._page}set page(t){this._page=t,this.fetchList()}get totalCount(){return this._totalCount}set totalCount(t){this._totalCount=t,this.updateDom(t)}get checkedList(){return this._checkedList}set checkedList(t){this._checkedList=t,$("[data-count-select]",this.$root).text(t.length),this.isMobile||$(".result_count .fc_green",this.$root).text(t.length)}set itemList(t){this._itemList=t}get itemList(){return this._itemList}set edit(t){this._edit=t}get edit(){return this._edit}get $list(){return $(this.isMobile?"ul.prod_row_list":".prod_list",this.$root)}get $checkList(){return $('input[name="wish-'.concat(this.type,'"]'),this.$list)}get $allCheck(){return $('input[id="chkSelectChk-'.concat(this.type,'"]'),this.$root)}reset(){this.initListComp(),this.isMobile&&$("[data-wish-cancel]",this.$root).trigger("click"),this.checkedList=[],this.page=1}init(){this.initListComp(),this.fetchList(),Ot.call(this),this.listComp.on("render-finish",(()=>{nt.call(this),ct.call(this),$('a[href="#"]').on("click",(function(t){t.preventDefault()}))})),this.initialized=!0}fetchList(){const t={page:this.page,pageLimit:6};this.myCatCode&&(t.myrmDvsnCode=this.myCatCode),this.ui.loading=!0,I.call(this,t).then((t=>{if(this.ui.loading=!1,this.totalCount=t.totalCount,this.isMobile&&1===this.page&&(this.itemList=[]),0===this.totalCount)return this.renderNoData();this.isMobile?($(".list_result_wrap",this.$root).show(),this.itemList=[...this.itemList,...t.nbopSeriesList],this.listComp.append(t),this.$allCheck.prop("checked",!1)):(this.itemList=t.nbopSeriesList,this.checkedList=[],this.listComp.data=t),this.$allCheck.prop("checked",!1)}))}updateDom(t){if($(".no_data").remove(),this.isMobile)$(".result_count .fc_green",this.$root).text(t);else{const e=$(".list_result_wrap .check_count",this.$root);e.html('/<span id="totalCount">'.concat(t,"</span>")),e.prepend('<span class="fw_bold" data-count-select>'.concat(this.checkedList.length,"</span>"))}}genListOptions(){return{render:{data:t=>t.nbopSeriesList,item:(t,e)=>{const s=$(et.call(this,t,this.isMobile,e));return Rt.call(this,s),At.call(this,s),Ut.call(this,s),F.apply(this,[t,s]),s}}}}}},{id:Et.WRITER,options:{name:"writer",label:"인물",pageSize:20},Module:class extends q{constructor(t,e){super(t,e),this._itemList=[],this._page=1,this._checkedList=[],this.type="writer",this._edit=!1,this._totalCount=0,this.init()}get page(){return this._page}set page(t){this._page=t,this.fetchList()}get totalCount(){return this._totalCount}set totalCount(t){this._totalCount=t,this.updateDom(t)}get checkedList(){return this._checkedList}set checkedList(t){this._checkedList=t,$("[data-count-select]",this.$root).text(t.length),$(".result_count .fc_green",this.$root).text(t.length)}set itemList(t){this._itemList=t}get itemList(){return this._itemList}set edit(t){this._edit=t}get edit(){return this._edit}get $list(){return $(this.isMobile?"ul.prod_row_list":".prod_list",this.$root)}get $checkList(){return $('input[name="wish-'.concat(this.type,'"]'),this.$list)}get $allCheck(){return $('input[id="chkSelectChk-'.concat(this.type,'"]'),this.$root)}reset(){this.initListComp(),this.isMobile&&$("[data-wish-cancel]",this.$root).trigger("click"),this.checkedList=[],this.page=1}init(){this.initListComp(),this.fetchList(),Ot.call(this),this.listComp.on("render-finish",(()=>{this.initSwiper()})),this.initialized=!0}fetchList(){const t={page:this.page,pageLimit:this.pageSize};this.myCatCode&&(t.myrmDvsnCode=this.myCatCode),M.call(this,t).then((t=>{if(this.totalCount=t.totalCount,this.isMobile&&1===this.page&&(this.itemList=[]),0===this.totalCount)return this.renderNoData();this.isMobile?($(".list_result_wrap",this.$root).show(),this.itemList=[...this.itemList,...t.nbopWriterList],this.listComp.append(t),this.$allCheck.prop("checked",!1)):(this.itemList=t.nbopWriterList,this.checkedList=[],this.listComp.data=t),this.$allCheck.prop("checked",!1)}))}updateDom(t){if($(".no_data").remove(),this.isMobile)$(".result_count .fc_green",this.$root).text(t);else{const e=$(".list_result_wrap .check_count",this.$root);e.html('/<span id="totalCount">'.concat(t,"</span>")),e.prepend('<span class="fw_bold" data-count-select>'.concat(this.checkedList.length,"</span>"))}}genListOptions(){return{render:{data:t=>t.nbopWriterList,item:(t,e)=>{const s=$(_t.call(this,t,this.isMobile,e));return s.find('[data-kbbfn="s3-image"]').each(((t,e)=>{this.ui.loadKbbFn(e)})),Rt.call(this,s),At.call(this,s),Pt.call(this,s),s}}}}initSwiper(){$(".series_prod_wrap .prod_swiper_wrap",this.$root).length>0&&(this.isMobile?$(".series_prod_wrap .prod_swiper_wrap",this.$root).each((function(){const t=$(this);$(".swiper-slide",t).length>0&&CustomSwiper(t.get(0),{slidesPerView:"auto",speed:500})})):$(".series_prod_wrap .prod_swiper_wrap",this.$root).each((function(){const t=$(this);$(".swiper-slide",t).length>1&&CustomSwiper(t,{slidesPerView:"auto",speed:500,scrollbar:{el:$(".swiper-scrollbar",t)[0]},freeMode:!0,keyboard:!0})})))}}},{id:Et.BRAND,options:{name:"brand",label:"브랜드",pageSize:20},Module:class extends q{constructor(t,e){super(t,e),this._itemList=[],this._page=1,this._checkedList=[],this.type="brand",this._edit=!1,this._totalCount=0,this.init()}get page(){return this._page}set page(t){this._page=t,this.fetchList()}get totalCount(){return this._totalCount}set totalCount(t){this._totalCount=t,this.updateDom(t)}get checkedList(){return this._checkedList}set checkedList(t){this._checkedList=t,$("[data-count-select]",this.$root).text(t.length),$(".result_count .fc_green",this.$root).text(t.length)}set itemList(t){this._itemList=t}get itemList(){return this._itemList}set edit(t){this._edit=t}get edit(){return this._edit}get $list(){return $(this.isMobile?"ul.prod_row_list":".prod_list",this.$root)}get $checkList(){return $('input[name="wish-'.concat(this.type,'"]'),this.$list)}get $allCheck(){return $('input[id="chkSelectChk-'.concat(this.type,'"]'),this.$root)}reset(){this.initListComp(),this.isMobile&&$("[data-wish-cancel]",this.$root).trigger("click"),this.checkedList=[],this.page=1}init(){this.initListComp(),this.fetchList(),Ot.call(this),this.initialized=!0}fetchList(){const t={page:this.page,pageLimit:this.pageSize};this.myCatCode&&(t.myrmDvsnCode=this.myCatCode),A.call(this,t).then((t=>{if(this.totalCount=t.totalCount,!this.totalCount)return this.renderNoData();this.isMobile?(this.itemList=[...this.itemList,...t.nbopBrandList],this.listComp.append(t),this.$allCheck.prop("checked",!1)):(this.itemList=t.nbopBrandList,this.checkedList=[],this.listComp.data=t),this.$allCheck.prop("checked",!1)}))}updateDom(t){if($(".no_data").remove(),this.isMobile){$(".result_count .fc_green",this.$root).text(t);const e=$('LABEL[for="chkSelectChk-'.concat(this.type,'"]'),this.$root);e.text("/".concat(t)),e.prepend('<span class="val" data-count-select>'.concat(this.checkedList.length,"</span>"))}else{const e=$(".list_result_wrap .check_count",this.$root);e.html('/<span id="totalCount">'.concat(t,"</span>")),e.prepend('<span class="fw_bold" data-count-select>'.concat(this.checkedList.length,"</span>"))}}genListOptions(){return{render:{data:t=>t.nbopBrandList,item:(t,e)=>{const s=$(function(t,e,s){const{brndSmryCntt:i,nbopTrgtCttsIdnfNum:n,brndName:a,brndCode:o,brndImgUrl:c}=t,l=(0,C.parseStageURL)("/HTR/b/".concat(n));return e?'<li class="prod_item" data-id="'.concat(n,'">\n        <button type="button" class="btn_my_delete"><span class="hidden">삭제</span></button>\n        \n        \x3c!-- 체크박스 영역 --\x3e\n        <span class="form_chk no_label">\n            <input id="wish-brand-').concat(n,"-").concat(s,'" name="wish-brand"type="checkbox"type="checkbox" />\x3c!-- 수정 220504 단일태그 닫기 추가 --\x3e\n            <label for="wish-brand-').concat(n,"-").concat(s,'"><span class="hidden">브랜드선택</span></label>\n        </span>\n        \x3c!-- // 체크박스 영역 --\x3e\n        <div class="prod_area horizontal">\n            <div class="prod_thumb_box type_square_round">\n                <a href="').concat(l,'" class="prod_link">\n                    <span class="img_box">\n                    <img data-kbbfn="s3-image"\n                    data-kbbfn-pid="').concat(o,'" \n                    data-kbbfn-title="').concat(a,'"\n                    src="').concat(c,'"\n                    data-src="').concat(c,'"\n                    alt="브랜드 프로필 사진" />\n                    </span>\n                </a>\n            </div>\n            <div class="prod_info_box">\n                <a href="').concat(l,'" class="prod_info">\n                    <span class="prod_name ellipsis_none">').concat(a,"</span>\x3c!-- 수정 220504 .ellipsis_none 클래스 추가 --\x3e\n                </a>\n                ").concat(null!==i?'<span class="prod_brand_desc">'.concat(i,"</span>"):"","\n            </div>\n        </div>\n    </li>"):'<div class="prod_item" data-id="'.concat(n,'">\n    <div class="prod_area horizontal">\n        <span class="form_chk no_label">\n            <input id="wish-brand-').concat(n,"-").concat(s,'" name="wish-brand" type="checkbox" />\n            <label for="wish-brand-').concat(n,"-").concat(s,'"><span class="hidden">브랜드선택</span></label>\n        </span>\n        <div class="prod_thumb_box type_square_round">\n            <a href="').concat(l,'" class="prod_link">\n              <span class="img_box">\n                <img data-kbbfn="s3-image"\n                data-kbbfn-pid="').concat(o,'" \n                data-kbbfn-pid="').concat(o,'" \n                data-kbbfn-title="').concat(a,'"\n                src="').concat(c,'"\n                data-src="').concat(c,'"\n                alt="브랜드 ').concat(a,' 프로필 사진" />\n              </span>\n            </a>\n        </div>\n        <div class="prod_info_box">\n            <a href="').concat(l,'" class="prod_info">\n                <span class="prod_name ellipsis_none">').concat(a,"</span>\x3c!-- 수정 220504 .ellipsis_none 클래스 추가 --\x3e\n            </a>\n            ").concat(null!==i?'<span class="prod_brand_desc">'.concat(i,"</span>"):"",'\n        </div>\n        <div class="right_area">\n            <button type="button" class="btn_my_delete"><span class="hidden">삭제</span></button>\n        </div>\n    </div>\n</div>')}(t,this.isMobile,e));return Rt.call(this,s),F.apply(this,[t,s]),At.call(this,s),s}}}}}},{id:Et.FUNDING,options:{name:"funding",label:"펀딩",pageSize:20},Module:class extends q{constructor(t,e){super(t,e),this._itemList=[],this._page=1,this._checkedList=[],this._myrmDvsnCode=null,this.type="funding",this._edit=!1,this._totalCount=0,this.init()}get page(){return this._page}set page(t){this._page=t,this.fetchList()}get totalCount(){return this._totalCount}set totalCount(t){this._totalCount=t,this.updateDom(t)}get checkedList(){return this._checkedList}set checkedList(t){this._checkedList=t,$("[data-count-select]",this.$root).text(t.length),this.isMobile||$(".result_count .fc_green",this.$root).text(t.length)}set itemList(t){this._itemList=t}get itemList(){return this._itemList}set edit(t){this._edit=t}get edit(){return this._edit}get $list(){return $(this.isMobile?"ul.prod_row_list":".prod_list",this.$root)}get $checkList(){return $('input[name="wish-'.concat(this.type,'"]'),this.$list)}get $allCheck(){return $('input[id="chkSelectChk-'.concat(this.type,'"]'),this.$root)}get $tabList(){return $('ul[id="tab-'.concat(this.type,'"]'),this.$root)}reset(){this.initListComp(),this.isMobile&&$("[data-wish-cancel]",this.$root).trigger("click"),this.checkedList=[],this.page=1}init(){this.initListComp(),this.fetchList(),Ot.call(this),this.initialized=!0}fetchList(){z.call(this,{nbopDvsnCode:"007"}).then((t=>{const e=t.fundingTabList.slice();this.$tabList.html(Lt.call(this,e)),gt.call(this)}));const t={page:this.page,pageLimit:this.pageSize};this.myCatCode&&(t.saleCmdtDvsnCode=this.myCatCode),B.call(this,t).then((t=>{const e=t.nbopFundingList.slice();this.totalCount=t.totalCount,this.isMobile&&1===this.page&&(this.itemList=[]);const s=Et[this.type.toUpperCase()];if(ft.call(this,s),!this.totalCount)return wt.call(this);if(this.isMobile){var i;this.$root.find(".list_result_wrap").show(),this.itemList=L()(i=[this.itemList.slice(),e]).call(i),this.listComp.append(t)}else{this.itemList=e,this.checkedList=[],this.listComp.data=t;const s=this.listComp.data.nbopFundingList.length;$('label[for="chkSelectChk-funding"]').find("#totalCount").text(s)}this.$allCheck.prop("checked",!1)}))}updateDom(t){if($(".no_data").remove(),this.isMobile)$(".result_count .fc_green",this.$root).text(t);else{const e='<span class="check_count">\n      <span class="fw_bold" data-count-select>'.concat(this.checkedList.length,'</span>/<span id="totalCount">').concat(t,"</span></span>");$('label[for="chkSelectChk-funding"]').html("찜한 프로젝트 ".concat(e))}}genListOptions(){return{render:{data:t=>t.nbopFundingList.slice(),item:(t,e)=>{"005"===this.myCatCode&&(t.saleCmdtDvsnCode="SAM");const s=$(mt.call(this,t,this.isMobile,e));return Rt.call(this,s),At.call(this,s),kt.call(this,t,s),s}}}}}}],St={LECTURE:"033",LECTURE_TOP_TEN:"036",AUTHOR_LECTURE:"045",BORA_SHOW:"044",SAM_LECTURE:"037",CLASSIC_LIST:"034",READING:"035",JOURNEY:"038",HUMANITIES:"039",HUMANITIES_ABROAD:"040",BORA_CLASS:"046",ONEDAY_CLASS:"047",EXHIBITION:"041",ART_SPACE:"042",BOOK_TICKETS:"048"};function Ot(){i.q$||Dt.call(this),It.call(this,this.type),Mt.call(this,this.type),i.q$&&Nt.call(this)}function Dt(){var t;const e=this,s="wish"===e.type;s&&(this.$allCheck=$('input[id="chkSelectChk-sentence"]'));const i=$('.mylibwish [role="tablist"]').find(".ui-tabs-active.ui-state-active"),n=i.find("a").attr("href"),o=i.data("code"),c=null===(t=Tt.find((t=>t.id===o)))||void 0===t?void 0:t.options.name,l=$(n),r=void 0!==l?l.find(".tabs .tab_item.ui-state-active").data("code"):xt.BOOK,p=s?$("#chkSelectChk-sentence"):$("#chkSelectChk-".concat(c));p.prop("checked",!1),this.$allCheck.off("change").on("change",(function(){const t=p.prop("checked");(s?$('input[name="wish-sentence"]'):e.$checkList).prop("checked",t);let i=[];if(t){i=(e.itemList||e.data.sentenceList).map((t=>(0,a.ei)(t,["myrmDvsnCode","nbopDvsnCode","nbopTrgtCttsIdnfNum","saleCmdtid"]))),void 0!==r&&"all"!==r&&(i=i.filter((t=>t.myrmDvsnCode===r)))}e.checkedList=i}))}function It(t){const e=this,s=this.$root.find("[data-wish-add-".concat(t,"]")),i="product"===t?"상품을":"콘텐츠를";s.off("click").on("click",(t=>{if(!e.checkedList.length)return e.ui.alert({title:"마이 리스트에 담을 ".concat(i," 선택해주세요")});let s=e.checkedList.map((t=>(void 0!==t.saleCmdtid&&null!==t.saleCmdtid||(t.saleCmdtid=t.nbopTrgtCttsIdnfNum),{...t,title:$('[data-id="'.concat(t.nbopTrgtCttsIdnfNum,'"] .prod_name')).text()})));s.forEach((t=>(t.nbopTrgtCttsIdnfNum=t.saleCmdtid,t)));s=s,this.uber.listCopyPop.active=!0,this.uber.listCopyPop.status=!0,this.uber.listCopyPop.saveList=s}))}function Mt(t){const e=this;this.$root.find("[data-wish-delete]").off("click").on("click",(s=>{if(0===e.checkedList.length)return e.ui.alert({title:k.AL_08_1002});e.ui.alert({title:k.AL_08_1003,cancel:!0}).then((s=>{let{value:i}=s;if(!i)return e.$checkList.prop("checked",!1),void(e.checkedList=[]);const n=e.checkedList;T.call(this,n).then((s=>"000000"===s.resultCode&&(e.ui.alert({title:k.AL_08_1004}),"wish"===t?e.emit("get-data",{params:{page:1}}):e.reset())))}))}))}function At(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nbopTrgtCttsIdnfNum";const s=this,i="wish"===s.type;t.find(".btn_my_delete").on("click",(t=>{const n=$(t.target),a=n.closest(".prod_item"),o="".concat(n.closest(i?"li":".prod_item").data("id")),c=s.itemList.filter((t=>t[e]===o))[0],{myrmDvsnCode:l,nbopDvsnCode:r,nbopTrgtCttsIdnfNum:p}=c,d={myrmDvsnCode:l,nbopDvsnCode:r,nbopTrgtCttsIdnfNum:p};S.call(this,d).then((t=>{if("000000"===t.resultCode)return i?s.emit("get-data",{params:{page:1}}):a.remove()}))}))}function Nt(){const t=this,e=this.$list,s="wish"===t.type?"sentence":this.type;o.call(t,!1);const i=this.$root.find("[data-wish-edit]"),n=this.$root.find("[data-wish-cancel]");i.on("click",(e=>{t.edit=!0;const s=$(e.target).closest(".tab_content");o.call(t,!0,s)})),n.on("click",(e=>{t.edit=!1;const s=$(e.target).closest(".tab_content");o.call(t,!1,s),"wish"!==t.type&&this.$checkList.prop("checked",!1),t.checkedList=[]}));const a=()=>{var e;const i=['<span class="form_chk">','<input id="chkSelectChk-'.concat(s,'" type="checkbox" />'),'<label for="chkSelectChk-'.concat(s,'">'),'<span class="val" data-count-select>0</span> / '.concat(t.totalCount||(null===(e=t.itemList)||void 0===e?void 0:e.length)||0),"</label></span>"].join("");return(0,v.createEl)("list_sort_wrap type_full").attr("data-wish-listsort","").append(i)};function o(s,i){this.editMode=s,s?($("[data-wish-controlbox]",i).show(),$("[data-wish-cancel]",i).show(),$(".killing_part_list",i).addClass("view_list_edit"),$("[data-wish-listsort]",i).length||$(".list_result_wrap",i).after(a()),Dt.call(t),$(".no_label",e).css("display","inline-block"),$("[data-wish-edit]",i).hide(),$(".result_count",i).hide(),$(".btn_my_delete",e).hide(),$(".tab_list_wrap").hide(),$(".info_text_box",i).hide(),$(".prod_info, .prod_link",e).each((function(t){$(this).removeAttr("href")})),$(".prod_row_list.type_box",i).addClass("view_list_edit")):($("[data-wish-controlbox]",i).hide(),$("[data-wish-cancel]",i).hide(),$("[data-wish-listsort]").remove(),$(".no_label",e).hide(),$("[data-wish-edit]",i).show(),$(".result_count",i).show(),$(".btn_my_delete",e).show(),$(".tab_list_wrap").show(),$(".info_text_box",i).show(),$(".killing_part_list",i).removeClass("view_list_edit"),$(".prod_row_list.type_box",i).removeClass("view_list_edit"))}}function Rt(t,e){const s=this,i=e||s.type,n=function(t){if("writer"===t)return"chrcCode";return"nbopTrgtCttsIdnfNum"}(i);this.isMobile&&this.edit&&$(".btn_my_delete",t).hide(),t.find('input[name="wish-'.concat(i,'"]')).on("change",(t=>{const e=$(t.target).prop("checked"),i=$(t.target)[0].id.split("-")[2],a=s.itemList,o=a.filter((t=>t[n]===i))[0],{myrmDvsnCode:c,nbopDvsnCode:l,nbopTrgtCttsIdnfNum:r,saleCmdtid:p}=o,d={myrmDvsnCode:c,nbopDvsnCode:l,nbopTrgtCttsIdnfNum:r,saleCmdtid:p};if(e)s.checkedList=[...s.checkedList,d];else{const t=s.checkedList.filter((t=>t.nbopTrgtCttsIdnfNum!==r));s.checkedList=t}!function(t){s.$allCheck.prop("checked",t)}(a.length===s.checkedList.length)}))}function Pt(t){const e=this;t.find("button[data-alarm-writer]").on("click",(function(){const t=$(this).hasClass("active"),s="".concat($(this).closest(".prod_item").data("id")),i=e.itemList.filter((t=>t.nbopTrgtCttsIdnfNum===s))[0],{chrcCode:n}=i,a={chrcCode:n};t?R.call(e,a).then((t=>{"000000"===t.resultCode&&($(this).removeClass("active"),$(".text",this).html("OFF"))})):N.call(e,a).then((t=>{"000000"===t.resultCode&&($(this).addClass("active"),$(".text",this).text("ON"))}))}))}function Ut(t){const e=this;t.find("button[data-alarm-series]").on("click",(function(){const t=$(this).hasClass("active"),s={stnrCmdtid:(i.q$?$(this).parent().siblings("a.prod_info").data():$(this).parent().siblings(".prod_info_box").find("a").data()).stnrcmdtid,cmdtRltsPatrCode:"003"};t?U.call(e,s).then((t=>{"000000"===t.resultCode&&($(this).removeClass("active"),$(".text",this).text("OFF"),e.ui.toast("알림 취소가 완료되었습니다."))})).catch((()=>{e.ui.toast("알림 취소 실패")})):P.call(e,s).then((t=>{"000000"===t.resultCode&&($(this).addClass("active"),$(".text",this).text("ON"),e.ui.toast("알림 신청이 완료되었습니다."))})).catch((()=>{e.ui.toast("알림 신청 실패")}))}))}const Bt={my:"my",Detail:"detail",list:"list",best:"best",swiper:"swiper",wish:"wish",prod:"prod"};var zt=s(35820),Yt=s.n(zt),Kt=s(61120),Ft=s.n(Kt),Wt=s(76739);function Ht(){const{swiper:t,noData:e}=this.options.elements,s=this.$root.find(t).length>0,i=this.$root.find(e).length>0;if(s&&this.$root.find(t).remove(),i){if(this.type===Bt.my)return void this.$root.find(e).hide();this.type===Bt.Detail?($("#sentence").find(e).hide(),$("#sentence .title_wrap").hide()):this.$root.find(e).remove()}}function Vt(){switch(this.type){case Bt.swiper:jt.call(this);break;case Bt.list:case Bt.my:case Bt.wish:case Bt.Detail:Gt.call(this);break;case Bt.best:this.isMobile?jt.call(this):Gt.call(this);break;case Bt.prod:this.isMobile?qt.call(this):Gt.call(this)}}function jt(){const{sentenceList:t,wishList:e}=this.data,s=t.map(((t,s)=>{const i=ee.call(this,t,e[s],s);return this._items.push(i),i}));this._$el=d.call(this,L()(s).call(s)),this.type===Bt.swiper?(this.getElement("title").html(m.call(this)),this.$root.append(this._$el)):this.$root.find(".contents_inner").append(this._$el),setTimeout((()=>{_.call(this),this.commonLoadFun()}))}function qt(){this.getElement("title").html(m.call(this)),this.listComp.data=this.data,setTimeout((()=>{const t=h.call(this,"next"),e=h.call(this,"prev");t.on("click",(t=>{this.listComp.pagi.next()})),e.on("click",(t=>{this.listComp.pagi.prev()})),$(".killing_part_contents").append([t,e]),this._$el=this.$root.find(".killing_part_contents .killing_part_item"),this.commonLoadFun()}))}function Gt(){if(this.type!==Bt.list&&this.type!==Bt.my||this.getElement("title").text("".concat(this.type===Bt.my?"작성한":""," 문장수집 (").concat((0,C.numberWithCommas)(this.data.totalCount),")")),this.type===Bt.prod&&this.getElement("title").html(m.call(this)),this.type===Bt.Detail){var t;$("#sentence .title_wrap").show(),$("#sentence .title_heading").text("나의 문장수집 (".concat((0,C.numberWithCommas)(this.data.totalCount),")"));const e=(0,C.createEl)({class:"right_area"},"div"),s={type:"button",class:"".concat(this.isMobile?"btn_xxs":"btn_sm"," btn_primary"),"data-role":"btn-dialog","data-kbbfn":"ui-pop-collect-sentence",html:'<span class="ico_review"></span>문장수집 작성</span>'},i=(null===(t=this.data)||void 0===t?void 0:t.sentenceList)||[];if(i.length>0){const t=i[0];Object.assign(s,{"data-kbbfn-title":t.cmdtName,"data-kbbfn-bid":t.cmdtcode,"data-kbbfn-pid":t.saleCmdtid,"data-kbbfn-dvsnCode":t.saleCmdtDvsnCode,"data-kbbfn-type":"present","data-target":"#popKillingPartAdd"})}const n=(0,C.createEl)(s,"button"),a=(0,C.createEl)(Object.assign(s,{"data-kbbfn-type":"integrated","data-target":"#popKillingPartNoAdd"}),"button");0===$("#sentence .title_wrap").find(".right_area").length&&$("#sentence").find(".title_wrap").append(e.append(n)),this.setElement("nodata.btn",a),this.loadScript([this.getElement("nodata.btn")]),this.loadScript([n]);const o=this.$root.find(".killing_part_list"),c=this.$root.find(".no_data");if(!o.length){this.$root.find('[data-el="collectList"]')[this.isMobile?"append":"after"]((0,C.createEl)("killing_part_list my").append((0,C.createEl)({},"ul"))),this.listComp.setElement("root",this.$root.find(this.getOption("elements.list")))}c.length&&c.hide()}if(this.isMobile&&this.type===Bt.wish&&this.getElement("title").html('<span class="fc_green">'.concat((0,C.numberWithCommas)(this.data.totalCount),"</span>건")),this.isMobile||this.type===Bt.my||this.type===Bt.Detail){if(this.type===Bt.my){const t=this.$root.find(".killing_part_list"),e=this.$root.find(".no_data");if(!t.length){(this.isMobile?this.$root.find(".contents_inner"):this.$root.find(".list_result_wrap"))[this.isMobile?"append":"after"]((0,C.createEl)("killing_part_list my").append((0,C.createEl)({},"ul"))),this.listComp.setElement("root",this.$root.find(this.getOption("elements.list")))}e.length&&e.hide()}1===this.page?this.listComp.data=this.data:this.listComp.append(this.data);const t=this.items;t.length===this.per&&(this._obTarget=t[t.length-4][0],setTimeout((()=>{this.observer.observe(this.obTarget)}),500))}else this.listComp.data=this.data;setTimeout((()=>{this.type===Bt.prod?this._$el=this.$root.find(".killing_part_contents .killing_part_item"):this._$el=this.$root.find("ul .killing_part_contents"),this.commonLoadFun()}))}function Jt(){if(this.type===Bt.swiper||this.type===Bt.prod){this.getElement("title").html(m.call(this));const t=(0,C.createEl)("killing_part_contents killing_part_swiper");t.css("display","none"),this.$root.append([t,this.$noData]),this.$root.find(".killing_part_item").remove()}if(this.type===Bt.my||this.type===Bt.Detail){const t=this.$root.find(".killing_part_list"),e=this.$root.find(".no_data");if(t.length&&t.remove(),e.length)return void e.show();const s=(0,C.createEl)("no_data".concat(this.isMobile?" has_bottom_line":"")),i=(0,C.createEl)("btn_wrap");let n=$('<button class="btn_sm btn_line_gray" data-role="btn-dialog" data-kbbfn-type="integrated" data-target="#popKillingPart" data-kbbfn="ui-pop-collect-sentence"><span class="text">문장수집 작성</span></button>');this.type===Bt.Detail&&($("#sentence .title_wrap").hide(),n=(0,C.createEl)({type:"button",class:"".concat(this.isMobile?"btn_xs":"btn_sm"," btn_line_gray"),"data-role":"btn-dialog","data-kbbfn":"ui-pop-collect-sentence","data-kbbfn-title":this.getOption("ptit"),"data-kbbfn-bid":this.getOption("bid"),"data-kbbfn-pid":this.getOption("pid"),"data-kbbfn-dvsnCode":this.getOption("dvsn"),"data-target":"#popKillingPart",html:'<span class="text">문장수집 작성</span>'},"button")),s.append(['<div class="no_data_desc">문장수집을 작성해 보세요.</div>',i.append(n)]),this.setElement("nodata.btn",n),this.$root.append(s)}if(this.type===Bt.wish){const t=this.$root.find(".killing_part_list"),e=this.$root.find(".no_data");t.length&&t.remove(),e.length&&e.remove();const s=(0,C.createEl)("no_data".concat(this.isMobile?"":" has_bottom_line"));s.append('<div class="no_data_desc">찜한 문장수집이 없습니다.</div>'),this.$root.append(s)}}function Zt(){this.on("collect-load-data",(t=>{let{sentenceList:e}=t;Ht.call(this),null===e||0===e.length?(this.type!==Bt.swiper&&this.type!==Bt.wish&&this.type!==Bt.prod||Jt.call(this),this.type!==Bt.my&&this.type!==Bt.Detail||(Jt.call(this),setTimeout((()=>{this.loadScript([this.getElement("nodata.btn")])})))):Vt.call(this)})),this.on("get-data",(t=>{let{params:e}=t;this.type,Bt.my,this._getData(e)}))}function Xt(){null!==this._$el&&(this._$el.find(".btn_killing_part_down").off("click").on("click",(t=>{const e=$(t.target).closest("button").closest("li, div.killing_part_item").data("id"),s=$(t.target).closest(".killing_part_bg").clone();if(s.css({position:"absolute",left:"-4000px",top:"-4000px"}),s.addClass("download"),$(t.target).closest(".killing_part_contents").append(s),!this.isMobile){new SimpleBar(s.find(".custom_scroll_wrap")[0]).recalculate()}setTimeout((()=>{Ft()(s.get(0),{useCORS:!0,width:640,height:640,logging:!0}).then((t=>{var i;(i=t.toDataURL(),new(Yt())((t=>{const e=new window.Image;e.src=i,e.onload=()=>{const s=document.createElement("canvas"),i=640,n=640;s.width=i,s.height=n,s.getContext("2d").drawImage(e,0,0,i,n),t(s)}}))).then((t=>{if(t.msToBlob){const s=t.msToBlob();window.navigator.msSaveBlob(s,"".concat(e,".jpg"))}else!function(t,e){const s=document.createElement("a");s.download=e,s.href=t,document.body.appendChild(s),s.click(),s.remove()}(t.toDataURL(),"".concat(e,".jpg"))})).then((()=>{s.remove(),this.ui.alert({code:"AL_05_0034"})}))}))}),500)})),this._$el.find(".sentence-report").off("click").on("click",(t=>{const e=$(t.target).closest("button"),s={data:{id:e.data("id"),type:"KLOVER",authorId:e[0].dataset.authorid,revwKindCode:"002"}};Wt.Q.open(s)})),this._$el.find(".sentence-delete").off("click").on("click",(t=>{const e=$(t.target).closest("button").data("id");this.ui.alert({title:"삭제하시겠습니까?",cancel:!0}).then((t=>{t.value&&Qt.call(this,e)}))})),this.getElement("title").find(".btn_tooltip").on("click",(t=>{this.tipActive=!0})))}function Qt(t){const e="/api".concat((0,C.getGlobalOption)("api.urls.common.sentence.remove"));return this.$http(this.getSearchURL({revwNum:t},e),{method:"DELETE"}).then((t=>{this.page=1,this._getData({page:1})}))}function te(t){const{revwNum:e,revwCntt:s,exttPageNum:i,saleCmdtid:n,cmdtName:a,imgPath:o,saleCmdtDvsnCode:c,saleLmttAge:l,cmdtCode:r}=t;if(this.popSentence){const{list:t}=this.popSentence,p=t.find((t=>{let{event:e}=t;return"modify"===e}));null!=p&&(p.revwNum=e,p.collect=s,p.page=i,p.pid=n,p.product={cmdtName:a,saleCmdtid:n,imgPath:o,dvsnCode:c,cmdtCode:r,saleLmttAge:l},p.active=!0)}}function ee(t,e,s){const{revwNum:i,chrcName:n,revwCntt:a,exttPageNum:o,cretDttm:c,cmdtName:l,nbopTrgtCttsIdnfNum:r,mmbrId:p,revwCretDttm:d,chrcCode:h,saleCmdtDvsnCode:u,saleLmttAge:_,mmbrNum:m,declaration5timesYsno:b,declarationUserYsno:g,blockUserYsno:v}=t;let{saleCmdtid:k}=t;k=this.type===Bt.best?t.saleCmdtId:k;let w=1;const L=this.type;(s+1)%2==0&&(w=2);const y=(0,C.parseProdDetailURL)({pid:k,bid:t.cmdtcode,type:u}),E=m===this.user.get("sub")?"Y":"N",x=this.authorized?"Y":"N",T="Y"===g||"Y"===v||"Y"===b?"Y":"N",S=(0,C.createEl)("title_wrap ".concat(C.IS_MOBILE?"title_size_def":"title_size_sm")).append((0,C.createEl)("title_heading","p").append((0,C.createEl)({href:y,text:l},"a"))),O=(0,C.createEl)("review_user_info").attr("data-id",i).append([null!=p?'<span class="user_name">'.concat(p,"</span>"):null,'<span class="gap"> | </span>','<span class="date">'.concat(c?f()(c).format("YYYY.MM.DD"):f()(d).format("YYYY.MM.DD"),"</span>"),"Y"===x&&"Y"===T?"":"Y"===E&&"Y"===x?'<span class="gap"> | </span><span class="info_item reportBtn">\n        <button  class="btn_review_util sentence-delete" type="button" data-id="'.concat(i,'" data-role="delete"><span class="text">삭제</span></button>\n        </span>'):'<span class="gap"> | </span><span class="info_item reportBtn">\n        <button type="button" data-id="'.concat(i,'" data-revwKindCode="002" data-authorId="').concat(m,'" class="btn_review_util sentence-report revw_num_').concat(i,'" data-role="report">\n        <span class="text">신고/차단</span>\n        </button>\n        </span>')]);let D=["수정","삭제"];Bt.wish===L&&(D=[]);const I=(0,C.createS3ImgEl)({pid:t.saleCmdtid,bid:t.cmdtcode,type:t.saleCmdtDvsnCode,adult:t.saleLmttAge,size:"100x0"}),M=(0,C.createEl)("prod_thumb_box size_min").append([(0,C.createEl)({href:y,class:"prod_link"},"a").append((0,C.createEl)("img_box","span").append(I))]),A=[].concat.apply([],D.map(((e,s)=>{const n=(0,C.createEl)({type:"button",class:"btn_text_link",html:'<span class="text">'.concat(e,"</span>"),"data-kbbfn-event":"수정"===e?"modify":null,"data-kbbfn":"수정"===e?"ui-pop-collect-sentence":null,"data-target":"수정"===e?"#popKillingPartEdit":null},"button").on("click",(s=>{"수정"!==e?this.ui.alert({code:"AL_05_0027"}).then((t=>{let{value:e}=t;e&&Qt.call(this,i)})):te.call(this,{revwNum:i,revwCntt:a,exttPageNum:o,saleCmdtid:k,cmdtName:l,cmdtCode:t.cmdtcode,saleLmttAge:_,imgPath:M.find('[data-kbbfn="s3-image"]').attr("src"),saleCmdtDvsnCode:u})}));return D.length>1&&0===s?[n,'<span class="gap"></span>']:[n]}))),N=(0,C.createEl)("library_info_box").append(['<span class="left_area">'.concat(L===Bt.wish?"".concat(null!=p?'<span class="user_name">'.concat(p,'</span><span class="gap"> | </span>'):""):null,'<span class="date">').concat(f()(c).format("YYYY.MM.DD"),"</span></span>"),(0,C.createEl)("right_area").append(A)]),R=(0,C.createEl)("prod_info_box").append([l?(0,C.createEl)({href:y,class:"prod_info",html:'<span class="prod_name ellipsis_single">'.concat(l,"</span>")},"a"):null,n?(0,C.createEl)({href:null!=h?(0,C.parseStageURL)("/ONK/service/profile/information?chrcCode=".concat(h)):null,class:"prod_author_link",html:'<span class="prod_author">'.concat(n,"</span>")},"a"):null]),P=(0,C.createEl)("prod_info_type_tag_box").append((0,C.createEl)("prod_area horizontal").append([M,R])),U=C.IS_MOBILE?"/mok/bg_killing_part_0".concat(w,"_mok@2x.png"):"/ink/bg_killing_part_0".concat(w,"@2x.png"),B=C.IS_MOBILE?"/mok/img_killing_part_logo_mok@2x.png":"/ink/img_killing_part_logo@2x.png",z='\n    <div class="killing_part_bg killing_part_bg0'.concat(w,'" style="background-image: url(\'/cdn/img?path=/images/common').concat(U,"')\">\n     ").concat("Y"===x&&"Y"===T?"":'<div class="slide_inner_top revw_num_'.concat(i,'">\n        ').concat(L===Bt.wish?"":(0,C.createWishBtnEl)(t,{id:i,code:C.WishCode.SENTENCE,clss:"btn_like",icon:"ico_like",active:"Y"===e.nbopYson})[0].outerHTML,"\n        ").concat((()=>{let t=(0,C.createEl)({id:"prodKillingPartShareBtn",class:"sns_share_wrap size_sm","data-kbbfn":"ui-sns-share","data-target":"#popShare","data-kbbfn-url":y,"data-kbbfn-title":l});return C.IS_MOBILE&&(t=(0,C.createEl)({id:"prodKillingPartShareBtn",class:"btn_share size_sm","data-target":"#popShare","data-kbbfn":"ui-sns-share","data-kbbfn-url":y,"data-kbbfn-title":l},"button").append([(0,C.createEl)("ico_share","span"),(0,C.createEl)("hidden","span")])),t[0].outerHTML})(),"\n      </div>"),'\n      <div class="slide_inner_middle">\n       ').concat((()=>{let t=a,e="";""!==o&&0!==Number(o)&&(e=(0,C.createEl)("from_page").text("p.".concat(o," 에서"))),this.authorized?"Y"===g||"Y"===v?t="고객님 요청에 의해 블라인드 처리되었습니다.":"Y"===b&&(t="다른 고객님들의 요청에 의해 블라인드 처리되었습니다"):t=a;let s=(0,C.createEl)("text_killing_part revw_txt_".concat(i)).safeHtml(t);C.IS_MOBILE||(s=(0,C.createEl)("custom_scroll_wrap type_white").append(s));const n=(0,C.createEl)("prod_name").text(l);return(0,C.createEl)("slide_inner_middle").append([s,n,T?"":e]).html()})(),"\n      </div>\n      ").concat("Y"===x&&"Y"===T?"":'<div class="btn_wrap revw_num_'.concat(i,'"><button type="button" class="btn_xs btn_killing_part_down"><span class="text">다운로드</span></button></div>'),'\n     <span class="logo" style="background-image: url(\'/cdn/img?path=/images/common').concat(B,"')\">교보문고</span>\n    </div>\n    ");let Y=null,K={},F="li";switch(L){case Bt.swiper:K="swiper-slide",Y=[z,O];break;case Bt.prod:K="killing_part_item",F="div",Y=[z,O];break;case Bt.list:{const t=(0,C.createEl)("killing_part_contents has_title");Y=C.IS_MOBILE?(0,C.createEl)("killing_part_wrap").append(t.append([z,O,S])):t.append([z,O,S]);break}case Bt.best:{if(C.IS_MOBILE){K="swiper-slide",Y=[z,O,S];break}const e=(0,C.createEl)("killing_part_contents");Y=[se.call(this,t),e.append(z,O)];break}case Bt.my:{const t=(0,C.createEl)("killing_part_contents has_title");Y=C.IS_MOBILE?(0,C.createEl)("killing_part_wrap").append(t.append([z,N,P])):t.append([z,N,P]);break}case Bt.Detail:{const t=(0,C.createEl)("killing_part_contents has_title");Y=C.IS_MOBILE?(0,C.createEl)("killing_part_wrap").append(t.append([z,N])):t.append([z,N]);break}case Bt.wish:{const t=(0,C.createEl)("killing_part_contents has_title");Y=C.IS_MOBILE?(0,C.createEl)("killing_part_wrap").append(t.append([z,N,P])):t.append([z,N,P]);break}}const W=(0,C.createEl)(K,F);return W.data("id",i),null!=Y?(L===Bt.wish&&(W.append((0,C.createEl)("killing_part_top").append([(0,C.createEl)("form_chk no_label","span").append(['<input id="wish-sentence-'.concat(r,"-").concat(s,'" name="wish-sentence" type="checkbox"/>'),'<label for="wish-sentence-'.concat(r,"-").concat(s,'"><span class="hidden">선택</span></label>')]),(0,C.createEl)("btn_my_delete","button").append('<span class="hidden">삭제</span>')])),Rt.call(this,$(W),"sentence")),W.attr("data-id",r),W.append(Y),At.call(this,W),W):W.append(z)}function se(t,e){const{saleCmdtId:s,cmdtcode:i,saleCmdtDvsnCode:n,saleLmttAge:a}=t,o=(0,C.createEl)("prod_area horizontal"),c=(0,C.createS3ImgEl)({pid:s,bid:i,type:n,adult:a,size:"auto-fit"}),l=(0,C.createEl)("prod_thumb_box size_lg").append([(0,C.createEl)({href:(0,C.parseProdDetailURL)({pid:s,type:n}),class:"prod_link"},"a").append((0,C.createEl)("img_box","span").append(c)),(0,C.createEl)("prod_viewer_control").append([(0,C.createEl)({href:(0,C.parseProdDetailURL)({pid:s,type:n}),class:"btn_prod_viewer",target:"_blank",html:'<span class="ico_blank"></span><span class="text">새창보기</span>'},"a").on("click",(t=>{t.preventDefault(),t.stopPropagation(),this.ua.isMobileApp?window.location.href=(0,C.parseProdDetailURL)({pid:s,type:n}):window.open((0,C.parseProdDetailURL)({pid:s,type:n}))}))])]);return o.append([l,ie.call(this,t,e)])}function ie(t,e){const{cmdtName:s,chrcName:i,cmdtcode:n,pbcmName:a,revwRvgrAvg:o,bestEmtnKywrName:c,saleCmdtId:l,anntCntt:r,saleCmdtDvsnCode:p,saleCmdtClstName:d}=t,h=(0,C.createEl)("prod_info_box"),u=(0,C.parseProdDetailURL)({pid:l,bid:n,type:p}),_=(0,C.createEl)({href:u,class:"prod_info",html:'<span class="prod_name">'.concat(null!=d?"[".concat(d,"] "):"").concat(s,"</span>")},"a"),m=(0,C.createEl)("prod_author","span").append((0,C.createEl)({href:u,html:"".concat(i?"".concat(i," · "):""," ").concat(a?"".concat(a," "):""," ").concat(null!=t&&t.date?'<span class="date">· '.concat(null==t?void 0:t.date,"</span>"):"")},"a")),b=(0,C.createEl)("prod_price").append([]),g=(0,C.createEl)("prod_bottom").append([(0,C.createEl)("review_summary_wrap type_sm").append([(0,C.createEl)("review_klover_box","span").append([(0,C.createEl)({class:"review_klover_text font_size_xxs",text:0===o?"0.0":o},"span")]),c?(0,C.createEl)({class:"gap",text:"/"},"span"):null,c?(0,C.createEl)({class:"review_quotes_text font_size_xxs",text:c},"span"):null])]).on("click",(t=>{window.location.href="".concat(u,"/#scrollSpyProdReview")})),f=(0,C.createEl)("prod_introduction","P").safeHtml(r);return h.append([_,m,b,f,g])}var ne=s(62836);class ae extends n.ht{constructor(t,e){super(t,null,e),this._data=null,this._$swiperEl=null,this._pid=this.getOption("pid"),this._type=this.getOption("type"),this._per=this.getOption("per"),this._sort=this.getOption("sort"),this._page=1,this._obTarget=null,this._observer=null,this._items=[],this._checkedList=[],Zt.call(this),this.initOptions(),this.domReady()}initOptions(){Object.assign(this.options,{elements:{root:this.getOption("root"),list:this.getOption("list"),popup:this.getOption("popup"),swiper:this.getOption("swiper"),noData:".no_data",title:this.getOption("title")||".title_heading",ink:{button:{history:".right_area .btn_line_gray",open:'.right_area [data-kbbfn="ui-pop-collect-sentence"]'}},mok:{button:{history:".btn_wrap .btn_line_gray",open:'.btn_wrap [data-kbbfn="ui-pop-collect-sentence"]'}}}})}get $noData(){return(0,p.ut)({class:"no_data type_gray size_sm"}).append((0,p.ut)({class:"no_data_desc",text:"이 책의 첫 기록을 남겨주세요."}))}get checkedList(){return this._checkedList}set checkedList(t){this._checkedList=t,$("[data-count-select]",this.$root).text(t.length),$(".result_count .fc_green",this.$root).text(t.length)}get data(){return this._data}set data(t){const{sentenceList:e}=t;this._data=t,this.emit("collect-load-data",{sentenceList:e})}get reviewable(){return"N"!==this.data.reviewWrite}set tipActive(t){this.tip[t?"open":"close"]()}get tipActive(){return this._tipActive}get tip(){return this._tipDialog}get items(){return this._items}get observer(){return this._observer}get obTarget(){return this._obTarget}get page(){return this._page}set page(t){this._page=t,null!=this._topPagi&&(this._topPagi.value=t)}get pid(){return this._pid}set pid(t){this._pid=t}get popSentence(){return this.modules.get("uiPopCollectSentence")}get type(){return this._type}get per(){return this._per}get sort(){return this._sort}get $root(){return $(this.getOption("elements.root"))}get userModel(){return this.modules.get("user").model}get params(){const t={revwPatrCode:"000",reviewSort:c()(this)};return[{name:Bt.swiper,opt:{pageLimit:6,saleCmdtid:this.pid}},{name:Bt.prod,opt:{pageLimit:this.per,saleCmdtid:this.pid}},{name:Bt.list,opt:{pageLimit:this.per}},{name:Bt.best,opt:{per:this.per}},{name:Bt.Detail,opt:{pageLimit:this.per,saleCmdtid:this.pid,mmbrNumSearchYsno:"Y"}},{name:Bt.my,opt:{pageLimit:this.per,mmbrNumSearchYsno:"Y"}},{name:Bt.wish,opt:{pageLimit:this.per}}].forEach((e=>{let{name:s,opt:i}=e;s===this.type&&Object.assign(t,i)})),t}getSearchURL(t,e){return[e,new(r())(t).toString()].join("?")}domReady(){this._domInit(),this._getData({page:1})}setWish(){this.$allCheck=$('input[id="chkSelectChk-sentence"]'),this.$list=$(".killing_part_list ul");const t=this.data.totalCount;if(this.totalCount=t,this.itemList=this.data.sentenceList,Ot.call(this),this.ua.isMobile){$(".result_count .fc_green",this.$root).text(t);const e=$('label[for="chkSelectChk-sentence"]',this.$root);e.text("/".concat(t)),e.prepend('<span class="val" data-count-select>0</span>')}else{const e=$(".list_result_wrap .check_count",this.$root);e.text("/".concat(t)),e.prepend('<span class="fw_bold" data-count-select>0</span>')}}_domInit(){var t;const e=this.$root,{elements:s}=this.options,i=this.ua.isMobile;if(this.type!==Bt.my){var n;e.find(null==s||null===(n=s[this.viewDIR])||void 0===n||null===(n=n.button)||void 0===n?void 0:n.history).on("click",(t=>{this.loginAlert((()=>{window.location.href=(0,p.$u)("/MYR/library/sentences")}))}))}if(e.find(null==s||null===(t=s[this.viewDIR])||void 0===t||null===(t=t.button)||void 0===t?void 0:t.open).on("click",(t=>{t.preventDefault(),this.loginAlert((()=>{$(s.popup).dialog("open")}))})),this.setElement("title",e.find(s.title)),i&&this.type===Bt.prod&&(!0===this.getOption("tooltip")||"true"===this.getOption("tooltip"))){const t=b.call(this);if(null===t)return;this.ui.dialog("#"+t.attr("id")),setTimeout((()=>{this._tipDialog=t.dialog("instance")}))}switch(this.type){case Bt.list:case Bt.my:case Bt.Detail:this.createListComp(),this._observer=new IntersectionObserver(((t,e)=>this.obCallback(t,e)));break;case Bt.best:if(this.isMobile)break;this.createListComp();break;case Bt.prod:this.createListComp();break;case Bt.wish:this.createListComp(),this._observer=new IntersectionObserver(((t,e)=>this.obCallback(t,e)))}this.initialized=!0}obCallback(t,e){t.forEach((t=>{t.isIntersecting&&(this.loading||(null!==this.obTarget&&e.unobserve(this.obTarget),20*this.page!==this.data.totalCount&&(this.page+=1,this._getData({page:this.page}))))}))}createListComp(){let t={el:this.$root.find(this.getOption("elements.list")),render:{data:t=>(this._items=[],t.sentenceList),item:(t,e)=>{const s=ee.call(this,t,this.data.wishList[e],e);return this._items.push(s),s}}};if(this.type!==Bt.my&&(!this.isMobile||this.type===Bt.prod)){let e=this.$root.find(".pagination");this.type===Bt.best&&(e=this.$root.find("#bottom_pagi")),t=Object.assign(t,{pagination:{el:e,ready:t=>{if(this.type===Bt.best){const e=t.options;e.el=$("#top_pagi"),$("#top_pagi").length&&(this._topPagi=new ne.Pagination(e),this._topPagi.on("change",(t=>{let{value:e,target:s}=t;this.listComp.page=e})))}this.listComp.pagi.on("change",(t=>{this.page=t.value,this._getData({page:t.value})}))},mapUpdateData:t=>({total:t.totalCount,page:this.page,size:this.per})}})}this.listComp=new ne.ListComponent(t)}_getData(t){this._page=t.page||1;const e=Object.assign(this.params,t),s="/api".concat((0,p._7)("api.urls.common.sentence.list"));let i=this.getSearchURL(e,s);switch(this.type){case Bt.wish:i=this.getSearchURL(e,"/api".concat((0,p._7)("api.urls.common.sentence.myWishList")));break;case Bt.best:i=this.getSearchURL(e,(0,p._7)("api.urls.common.sentence.bestList"))}this.ui.loading=!0,this.$http(i).then((t=>{let{data:e}=t;switch(this.type){case Bt.wish:e={sentenceList:e.nbopSentenceList,wishList:Array.from({length:e.nbopSentenceList.length},((t,e)=>e)).map((()=>{var t;return{saleCmdtid:null===(t=e)||void 0===t||null===(t=t.nbopSentenceList[0])||void 0===t?void 0:t.saleCmdtid,nbopYson:"Y"}})),totalCount:e.totalCount};break;case Bt.best:e={sentenceList:e.totalReviewList,wishList:Array.from({length:e.totalReviewList.length},((t,e)=>e)).map((t=>({saleCmdtid:e.totalReviewList[t].saleCmdtId,nbopYson:e.totalReviewList[t].reviewRecommendUserYsno}))),totalCount:e.totalCount}}this.data=e})).catch((()=>{this.data={sentenceList:[]}})).finally((()=>{this.type===Bt.wish&&this.setWish(),this.ui.loading=!1}))}loadScript(t){if(t.length>0){if(1===t.length){if(0===t[0].length)return;return void this.ui.loadKbbFn(t[0])}t.each(((t,e)=>{e.length>0&&this.ui.loadKbbFn(e)}))}}commonLoadFun(){u.call(this),Xt.call(this),this.ui.loadKbbFnAll(this.$root)}loginAlert(t){this.authorized?t():this.ui.loginAlert()}}class oe extends n.YZ{constructor(){super("collect-sentence",{initList:[i.bn.AUTHORIZE]}),this._items=[],this.auth.ready().then((()=>{this.emit(i.CommonEvent.PARTIAL_INIT,{name:i.bn.AUTHORIZE})})),this.on("get-data",(t=>{let{params:e}=t;this.items.forEach((t=>{null!=t.getOption("popup")&&t.emit("get-data",{params:e})}))}))}get items(){return this._items}create(t){const e=new ae(this,t);return this.items.push(e),e}isAvailReview(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=(0,a.U2)(this.items,t);return null==e||e.reviewable}}var ce=new oe},7328:function(t,e,s){"use strict";var i=s(62856);t.exports=i},2948:function(t,e,s){"use strict";s(4115);var i=s(35703);t.exports=i("Array").sort},69355:function(t,e,s){"use strict";var i=s(7046),n=s(2948),a=Array.prototype;t.exports=function(t){var e=t.sort;return t===a||i(a,t)&&e===a.sort?n:e}},72858:function(t,e,s){"use strict";t.exports=s(8391)},8391:function(t,e,s){"use strict";var i=s(7328);t.exports=i},15863:function(t,e,s){"use strict";var i=s(69826),n=TypeError;t.exports=function(t,e){if(!delete t[e])throw new n("Cannot delete property "+i(e)+" of "+i(t))}},34342:function(t,e,s){"use strict";var i=s(2861).match(/firefox\/(\d+)/i);t.exports=!!i&&+i[1]},81046:function(t,e,s){"use strict";var i=s(2861);t.exports=/MSIE|Trident/.test(i)},18938:function(t,e,s){"use strict";var i=s(2861).match(/AppleWebKit\/(\d+)\./);t.exports=!!i&&+i[1]},4115:function(t,e,s){"use strict";var i=s(76887),n=s(95329),a=s(24883),o=s(89678),c=s(10623),l=s(15863),r=s(85803),p=s(95981),d=s(61388),h=s(34194),u=s(34342),_=s(81046),m=s(53385),b=s(18938),g=[],f=n(g.sort),C=n(g.push),v=p((function(){g.sort(void 0)})),k=p((function(){g.sort(null)})),$=h("sort"),w=!p((function(){if(m)return m<70;if(!(u&&u>3)){if(_)return!0;if(b)return b<603;var t,e,s,i,n="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:s=3;break;case 68:case 71:s=4;break;default:s=2}for(i=0;i<47;i++)g.push({k:e+i,v:s})}for(g.sort((function(t,e){return e.v-t.v})),i=0;i<g.length;i++)e=g[i].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return"DGBEFHACIJK"!==n}}));i({target:"Array",proto:!0,forced:v||!k||!$||!w},{sort:function(t){void 0!==t&&a(t);var e=o(this);if(w)return void 0===t?f(e):f(e,t);var s,i,n=[],p=c(e);for(i=0;i<p;i++)i in e&&C(n,e[i]);for(d(n,function(t){return function(e,s){return void 0===s?-1:void 0===e?1:void 0!==t?+t(e,s)||0:r(e)>r(s)?1:-1}}(t)),s=c(n),i=0;i<s;)e[i]=n[i++];for(;i<p;)l(e,i++);return e}})},62856:function(t,e,s){"use strict";var i=s(69355);t.exports=i},76555:function(t,e,s){t.exports=s(72858)}},function(t){return t.O(0,[321,160,712],(function(){return e=78691,t(t.s=e);var e})),t.O()}])}));