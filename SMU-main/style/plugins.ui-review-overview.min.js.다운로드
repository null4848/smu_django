/*! @kyobobook/kbb-js v1.0.10 (build 20250618-103334) */
"use strict";!function(s,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.__KbbJS__=e():(s.__KbbJS__=s.__KbbJS__||{},s.__KbbJS__["plugins.ui-review-overview"]=e())}(self,(function(){return(self.webpackChunk_KbbJS_=self.webpackChunk_KbbJS_||[]).push([[592],{65172:function(s,e,n){n.d(e,{K:function(){return d}});var t=n(82324),a=n(7984);const o={bestEmotTag:void 0,bestEmotTagCount:void 0,buyRevwNumc:void 0,emotTagNumc1:void 0,emotTagNumc2:void 0,emotTagNumc3:void 0,emotTagNumc4:void 0,emotTagNumc5:void 0,revwRvgrAvg:void 0,revwRvgrNumc1:void 0,revwRvgrNumc2:void 0,revwRvgrNumc3:void 0,revwRvgrNumc4:void 0,saleCmdtid:void 0,whlRevwCont:void 0},r=(s,e,n)=>void 0!==e&&0!==(null==e?void 0:e.whlRevwCont)?function(s,e,n){const t=s.map((s=>'<div class="reply_score_item">\n                <div class="score_bar_box">\n                    <span class="num_score_bar">0%</span>\n                    <div class="score_bar"><span class="score_bar_inner" style="height: 0%;"></span></div>\n                </div>\n                <p class="text_reply">'.concat(null==s?void 0:s.revwEmtnKywrName,"</p>\n            </div>"))),a=Object.assign({},o);Object.assign(a,e);let r=0,i=0;for(let s=1;s<=5;s++)i+=Number(a["emotTagNumc"+s]),r<Number(a["emotTagNumc"+s])&&(r=Number(a["emotTagNumc"+s]));function c(s){return"".concat(Math.round(s/i*100)||0,"%")}const l=s.map((s=>v(Object.assign(s,{value:a["emotTagNumc"+s.exprSrmb]}))));function v(s){const{revwEmtnKywrName:e,value:t}=s,a=c(t);return n?'\n        <div class="reply_score_item '.concat(r===t?"score_best":"",'">\n            <div class="score_bar_box">\n                <span class="num_score_bar">').concat(a,'</span>\n                <div class="score_bar"><span class="score_bar_inner" style="height: ').concat(a,';"></span></div>\n            </div>\n            <p class="text_reply">').concat(e,"</p>\n        </div>\n        "):'\n        <div class="reply_score_item '.concat(r===t?"score_best":"",'">\n          <div class="score_bar_box">\n              <span class="num_score_bar">').concat(a,'</span>\n              <div class="score_bar"><span class="score_bar_inner" style="height: ').concat(a,';"></span></div>\n          </div>\n          <p class="text_reply">').concat(e,"</p>\n      </div>\n        ")}r=0;let d=0;for(let s=1;s<=4;s++)d+=Number(a["revwRvgrNumc"+s]),r<Number(a["revwRvgrNumc"+s])&&(r=Number(a["revwRvgrNumc"+s]));function _(s){return"".concat(Math.round(s/d*100)||0,"%")}const p=[{rate:10,value:a.revwRvgrNumc4},{rate:7.5,value:a.revwRvgrNumc3},{rate:5,value:a.revwRvgrNumc2},{rate:2.5,value:a.revwRvgrNumc1}].map((s=>b(s)));function b(s){const{rate:e,value:t}=s,a=_(t);return'\n        <div class="score_bar_wrap">\n            <input type="number" class="form_rating" value="'.concat(e,'" title="평가점수 선택" readonly data-size="').concat(n?"sm":"xs",'" />\n            <div class="score_bar"><span class="score_bar_inner  ').concat(r===t?"score_best":"",'" style="width: ').concat(a,';"></span></div>\n            <span class="text_score_bar">').concat(a,"</span>\n        </div>\n        ")}return n?'\n        <div class="klover_box_left">\n            <div class="box_top">\n                <p class="text_user_score">사용자 총점</p>\n                <input type="number" class="form_rating" value="'.concat(a.revwRvgrAvg||0,'" title="평가점수 선택" data-caption readonly />\n            </div>\n            <div class="box_bottom">\n                ').concat(p.join(""),"\n            </div>\n        </div>\n        ").concat(i>0?'<div class="klover_box_right">\n                    <div class="box_top">\n                        <p class="text_good_respon">\n                            '.concat(c(a.bestEmotTagCount),'의 구매자가<br />\n                            <span class="fc_spot"><span class="review_quotes_text">').concat(a.bestEmtnKywrName,'</span></span> 라고 응답했어요\n                        </p>\n                    </div>\n                    <div class="box_bottom">\n                        <div class="reply_score_list">').concat(l.join(""),"</div>\n                    </div>\n                </div>"):'<div class="klover_box_right">\n            <div class="box_top">\n                <p class="text_good_respon"> 평가된 감성태그가<br />\n                    <span class="review_quotes_text">없습니다</span>\n                </p>\n            </div>\n            <div class="box_bottom">\n                <div class="reply_score_list">\n                  '.concat(t.join(""),"\n                </div>\n            </div>\n        </div>"),"\n        "):'\n        <div class="klover_box_top">\n            <input type="number" class="form_rating" value="'.concat(a.revwRvgrAvg||0,'" title="평가점수 선택" data-caption readonly />\n            <div class="score_box">\n                ').concat(p.join(""),"\n            </div>\n        </div>\n        ").concat(i>0?'<div class="klover_box_bottom">\n                      <div class="box_top">\n                          <p class="text_good_respon">\n                              '.concat(c(a.bestEmotTagCount),'의 구매자가<br />\n                              <span class="fc_spot"><span class="review_quotes_text">').concat(a.bestEmtnKywrName,'</span></span> 라고 응답했어요\n                          </p>\n                      </div>\n                      <div class="box_bottom">\n                          <div class="reply_score_list">').concat(l.join(""),"</div>\n                      </div>\n                  </div>"):'<div class="klover_box_bottom">\n                <div class="box_top">\n                    <p class="text_good_respon">\n                        <span class="review_quotes_text">평가된 감성태그가 없습니다</span>\n                    </p>\n                </div>\n                <div class="box_bottom">\n                    <div class="reply_score_list">\n                      '.concat(t.join(""),"\n                    </div>\n                </div>\n            </div>"),"\n        ")}(s,e,n):function(s,e){const n=s.map((s=>'<div class="reply_score_item">\n                <div class="score_bar_box">\n                    <span class="num_score_bar">0%</span>\n                    <div class="score_bar"><span class="score_bar_inner" style="height: 0%;"></span></div>\n                </div>\n                <p class="text_reply">'.concat(s.revwEmtnKywrName,"</p>\n            </div>")));return e?'\n        <div class="klover_box_left">\n            <div class="box_top">\n              <p class="text_user_score">사용자 총점</p>\n              <input type="number" class="form_rating" value="0" title="평가점수 선택" data-caption readonly />\n            </div>\n            <div class="box_bottom">\n                <div class="score_bar_wrap">\n                    <input type="number" class="form_rating" value="10" title="평가점수 선택" readonly data-size="sm" />\n                    <div class="score_bar"><span class="score_bar_inner" style="width: 0%;"></span></div>\n                    <span class="text_score_bar score_best">0%</span>\n                </div>\n                <div class="score_bar_wrap">\n                    <input type="number" class="form_rating" value="7.5" title="평가점수 선택" readonly data-size="sm" />\n                    <div class="score_bar"><span class="score_bar_inner" style="width: 0%;"></span></div>\n                    <span class="text_score_bar">0%</span>\n                </div>\n                <div class="score_bar_wrap">\n                    <input type="number" class="form_rating" value="5" title="평가점수 선택" readonly data-size="sm" />\n                    <div class="score_bar"><span class="score_bar_inner" style="width: 0%;"></span></div>\n                    <span class="text_score_bar">0%</span>\n                </div>\n                <div class="score_bar_wrap">\n                    <input type="number" class="form_rating" value="2.5" title="평가점수 선택" readonly data-size="sm" />\n                    <div class="score_bar"><span class="score_bar_inner" style="width: 0%;"></span></div>\n                    <span class="text_score_bar">0%</span>\n                </div>\n            </div>\n        </div>\n        <div class="klover_box_right">\n            <div class="box_top">\n                <p class="text_good_respon"> 평가된 감성태그가<br />\n                    <span class="review_quotes_text">없습니다</span>\n                </p>\n            </div>\n            <div class="box_bottom">\n                <div class="reply_score_list">\n                  '.concat(n.join(""),"\n                </div>\n            </div>\n        </div>"):'\n            <div class="klover_box_top">\n                <input type="number" class="form_rating" value="0" title="평가점수 선택" data-caption readonly />\n                <div class="score_box">\n                    <div class="score_bar_wrap">\n                      <input type="number" class="form_rating" value="10" title="평가점수 선택" readonly data-size="xs" />\n                      <div class="score_bar"><span class="score_bar_inner score_best" style="width: 0%;"></span></div>\n                      <span class="text_score_bar score_best">0%</span>\n                    </div>\n                    <div class="score_bar_wrap">\n                      <input type="number" class="form_rating" value="7.5" title="평가점수 선택" readonly data-size="xs" />\x3c!-- 수정 220425 value 변경 --\x3e\n                      <div class="score_bar"><span class="score_bar_inner" style="width: 0%;"></span></div>\n                      <span class="text_score_bar">0%</span>\n                    </div>\n                    <div class="score_bar_wrap">\n                      <input type="number" class="form_rating" value="5" title="평가점수 선택" readonly data-size="xs" />\x3c!-- 수정 220425 value 변경 --\x3e\n                      <div class="score_bar"><span class="score_bar_inner" style="width: 0%;"></span></div>\n                      <span class="text_score_bar">0%</span>\n                    </div>\n                    <div class="score_bar_wrap">\n                      <input type="number" class="form_rating" value="2.5" title="평가점수 선택" readonly data-size="xs" />\x3c!-- 수정 220425 value 변경 --\x3e\n                      <div class="score_bar"><span class="score_bar_inner" style="width: 0%;"></span></div>\n                      <span class="text_score_bar">0%</span>\n                    </div>\n                </div>\n            </div>\n            <div class="klover_box_bottom">\n                <div class="box_top">\n                    <p class="text_good_respon">\n                        <span class="review_quotes_text">평가된 감성태그가 없습니다</span>\n                    </p>\n                </div>\n                <div class="box_bottom">\n                    <div class="reply_score_list">\n                      '.concat(n.join(""),"\n                    </div>\n                </div>\n            </div>")}(s,n);var i=n(5878),c=n(49837);async function l(s){try{const e=(0,c.wO)("review","statistics")+"?saleCmdtid="+s.saleCmdtid;return await this.$http(e,{method:"get"})}catch(s){return!1}}async function v(s){try{const e=(0,c.wO)("review","emotionTags");return(await this.$http((0,i.customURL)(e,s),{method:"get"})).data}catch(s){return!1}}class d extends t.ht{constructor(s,e){super(s,"overview",e);const n=$(e.el);this.setElement("root",e.el),this.setElement("content",n.find(e.elContents)),this._elTitle=e.elTitle,this._serviceCode=e.serviceCode,this.modules.ready("ui-review-form").then((s=>{s.on(a.G2.SUBMIT_SUCCESS,(s=>{let{from:e,pid:n}=s;n&&(this._serviceCode=n),this.render(this.serviceCode)}))}))}get $contents(){return this.getElement("content")}get serviceCode(){return this._serviceCode}get isPC(){return this.ua.isPC}async render(s){var e,n,t;if(s&&(this._serviceCode=s),void 0===this.serviceCode)return;const a=await l.call(this,{saleCmdtid:this.serviceCode});null!=a&&a.data&&null!==(null==a||null===(e=a.data)||void 0===e?void 0:e.bestEmotTag)?this.$contents.removeClass("no_respon"):this.$contents.addClass("no_respon");const o=await this.getEmotionTags((null==a||null===(n=a.data)||void 0===n?void 0:n.revwEmtnKywrPatrCode)||"001");this.$contents.html(r(o,a.data,this.isPC)),void 0===a.data||0===(null===(t=a.data)||void 0===t?void 0:t.whlRevwCont)?this.$contents.addClass("no_respon"):this.$contents.removeClass("no_respon"),this.ui.pubScript("setStarRating",this.$contents),this.ua.isMobile?$(".prod_review_box .btn_go_review").length>0&&$(".prod_review_box .btn_go_review").on("click",(function(){var s;const e=Math.floor($("#scrollSpyProdReview").offset().top)-46;"product"===(null===(s=$("html"))||void 0===s?void 0:s.data("service"))?$("html, body").stop().animate({scrollTop:e},{duration:300,step:function(s,e){const n=$("#scrollSpyProdReview").offset().top-46;e.end!==n&&(e.end=n)}}):$("html, body").stop().animate({scrollTop:e},300)})):$(".prod_review_box .btn_go_review").length>0&&$(".prod_review_box .btn_go_review").on("click",(function(){const s=Math.floor($("#scrollSpyProdReview").offset().top)-151;$("html, body").stop().animate({scrollTop:s},300)}))}async getEmotionTags(s){return isNaN(+s)&&(s="001"),await v.call(this,{revwEmtnKywrPatrCode:s})}}},48412:function(s,e,n){n.r(e);var t=n(82324),a=n(65172);class o extends t.YZ{constructor(){super("review-overview"),this.init()}init(s){const e=null!=s&&s.el?null==s?void 0:s.el:'[data-event-detail="review"]',n=null!=s&&s.serviceCode?null==s?void 0:s.serviceCode:$(e).data("kbbfn-prod-pid");this._overview=new a.K(this,{el:e,elTitle:'[data-review-label="title"]',elContents:".klover_review_box",serviceCode:n}),this.render(n)}render(s){this._overview.render(s)}}e.default=new o}},function(s){return s.O(0,[321,160,712],(function(){return e=48412,s(s.s=e);var e})),s.O()}])}));