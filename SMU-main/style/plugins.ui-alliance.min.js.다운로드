/*! @kyobobook/kbb-js v1.0.10 (build 20250618-103334) */
"use strict";!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.__KbbJS__=n():(e.__KbbJS__=e.__KbbJS__||{},e.__KbbJS__["plugins.ui-alliance"]=n())}(self,(function(){return(self.webpackChunk_KbbJS_=self.webpackChunk_KbbJS_||[]).push([[239],{56719:function(e,n,t){t.r(n);var a=t(57170),l=t.n(a),s=t(51956);const c="LINK_CODE";class i extends s.UiPluginsModule{constructor(){super("alliance"),this._alliance=null,this.link=this.urlinfo.get("LINK")||Cookies.get(c)||null}set link(e){if(null==e)return;e!==Cookies.get(c)&&(0,s.setCookie)(c,e),this._alliance=(0,s.getGlobalMessage)("welcome.alliance",e)||null,this._link=e}get link(){return this._link}get alliance(){return this._alliance}domReady(){if(null!==this.alliance){const{name:e,msg:n}=this.alliance;if(!this.isMobile){const t=(0,s.createEl)({class:"associate_channel",tabindex:"0"}).append(['<span class="channel_name">'.concat(e,'<span class="status">ON</span></span>'),'<div class="bubble_speech_desc arw_left_top">'.concat(n,"</div>")]);return t.on("click",(e=>this.allianceOff())),void $("#welcome_header_wrap .service_mall_inner").prepend(t)}const t=(0,s.createEl)("associate_channel_wrap").append('<p class="info_text">'.concat(n,"</p>"),$('<button type="button" class="btn_close_channel"><span class="ico_close"></span><span class="hidden">닫기</span></button>').on("click",(e=>{this.allianceOff()})));$("#welcome_header_wrap .header_top_wrap").before(t)}}allianceOff(){this.ui.alert({title:"제휴 채널 연결을 종료하시겠습니까?",cancel:!0}).then((e=>{if(e.value){Cookies.remove(c,{path:"/",domain:s.COOKIE_DOMAIN});const e=new(l())(window.location.search);if(e.has("LINK")){e.delete("LINK");const n="".concat(this.urlinfo.fullpath).concat(e?"?".concat(e):"");window.location.href=n}else window.location.reload()}}))}}n.default=new i}},function(e){return e.O(0,[321,160,712],(function(){return n=56719,e(e.s=n);var n})),e.O()}])}));