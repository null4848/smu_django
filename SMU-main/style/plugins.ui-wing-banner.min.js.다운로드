/*! @kyobobook/kbb-js v1.0.10 (build 20250618-103334) */
"use strict";!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.__KbbJS__=t():(e.__KbbJS__=e.__KbbJS__||{},e.__KbbJS__["plugins.ui-wing-banner"]=t())}(self,(function(){return(self.webpackChunk_KbbJS_=self.webpackChunk_KbbJS_||[]).push([[642],{865:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var i=n(35820),r=n.n(i),s=n(51956),o=n(90646),l=n.n(o),a=n(27545);const p={imgAltTagCntt:"패스트 라이브즈 각본",text3:"",image_url2:"",text2:"",linkUrl:"http://imac.kyobobook.co.kr/click/INK/ink_wel_new/ink_wel@wel_03?adsno=149963&ctvno=112571&clkno=112611",text:"",imgFileUrl:"https://contents.kyobobook.co.kr/advrcntr/IMAC/creatives/2024/02/27/56226/5premium2.png"},d=[{dsplBnnrNum:2779,termlDvsnCode:"002",dsplLctnCode:"020",dsplMenuNum:null,dsplBnnrName:"이토록 멋진 인생이라니 오리지널 오디오북 출간",dsplBnnrSbttName:null,bnnrAddtCntt:null,nuwinYsno:"N",webLinkUrladrs:"https://event.kyobobook.co.kr/detail/217809",imgFileUrladrs:"https://contents.kyobobook.co.kr/display/c_200_200_608ca01183b246a988320871d94941e1.jpg",imgAltTagCntt:"이토록 멋진 인생이라니 오리지널 오디오북 출간",dsplBnnrImgFileNum:null,bagrColrCode:null,darkThemeYsno:"N"},{dsplBnnrNum:2786,termlDvsnCode:"002",dsplLctnCode:"020",dsplMenuNum:null,dsplBnnrName:"[오직 교보] 황곰X머스트",dsplBnnrSbttName:null,bnnrAddtCntt:null,nuwinYsno:"N",webLinkUrladrs:"https://event.kyobobook.co.kr/detail/217849",imgFileUrladrs:"https://contents.kyobobook.co.kr/display/c_200_200_02a3602754ce487cb218876a10778e6f.jpg",imgAltTagCntt:"[오직 교보] 황곰X머스트",dsplBnnrImgFileNum:827610,bagrColrCode:null,darkThemeYsno:"N"}],c={AD_IMAGE:"ad-image",EVT_SWIPER:"evt-swiper"};function u(){if(this.debugMode)return p;return a.e_.call(this,"/INK/ink_wel_new/ink_wel@wel_03?callback=").then((e=>l()(e).call(e,0))).catch((()=>[]))}function _(){if(this.debugMode)return d;const e=(0,s.customURL)((0,s.getGlobalApiGwURL)("pdt","showcase.banner"),{dsplLctnCode:"020",termlDvsnCode:"002"});return this.$http(e).then((e=>e.data))}function h(e){let t,n;switch(e){case c.AD_IMAGE:t=u,n=p;break;case c.EVT_SWIPER:t=_,n=d}return this.debugMode?r().resolve(n):t.call(this)}const b=function(e,t){let{index:n="wingbanner",type:i="이미지",title:r}=t;if(null!=e&&e.length)return e.dataAttr({index:n,type:i,title:r},void 0,"tag")};function m(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.open(e,t?"_blank":"_self")}function f(e){const t=this.getElement("ad");if(null==e||0===(null==e?void 0:e.length))return t.remove();w("view_ad_banner",e),t.on("click",(t=>{t.preventDefault(),w("click_ad_banner",e),m(e.linkUrl,"true"===(null==e?void 0:e.outRinkRanding))}));const n=e.imgFileUrl,i=e.imgAltTagCntt;t.find("IMG").attr({src:n,alt:i}),b(t,{title:i})}async function w(e,t){dataLayer.push({[s.Ga4DataKey.EVENT]:"ad_banner",[s.Ga4DataKey.EVENT_NAME]:"view_ad_banner",[s.Ga4DataKey.TYPE]:"프리미엄 배너",[s.Ga4DataKey.TITLE]:t.imgAltTagCntt||"",device_type:"인터넷",ad_id:t.ad_id||"",publisher_id:t.publisher_id||""})}const g={root:".fly_menu_wrapper",benefitLink:".fly_link_box #wing_coupon",adWrap:".fly_menu_banner",guideWrap:".btn_shopping_guide",event:{wrap:".fly_event_area",button:".fly_menu_link",banner:".fly_event_banner",swiper:{wrap:".swiper-container",next:".swiper_control_box .swiper-button-next",prev:".swiper_control_box .swiper-button-prev",pagenation:".swiper_control_box .swiper-pagination"},itemWrap:".fly_event_banner .swiper-wrapper",item:".fly_event_banner .swiper-slide"}};class v extends s.UiPluginsModule{constructor(){super("wing-banner",{dependOn:[s.ResName.KBB_CM_SCRIPT]}),Object.assign(this.options,{elements:g})}get debugMode(){return this.urlinfo.debug("wing-banner")}domReady(){if(!s.IS_MOBILE)return this.initDOM(),r().allSettled([{type:c.AD_IMAGE,success:f},{type:c.EVT_SWIPER,success:this.renderEventSwiper}].map((e=>{let{type:t,success:n}=e;return h.call(this,t).then((e=>n.call(this,e)))}))).finally((()=>{this.initialized=!0}))}renderEventSwiper(e){const{event:t}=this.options.elements,n=e,i=this.getElement("eventItemWrap"),r=[],o=this.$root.find(".fly_event_banner .swiper_control_box");i.empty(),n.length?($.each(n,((e,n)=>{if(!n.imgFileUrladrs)return this.$root.find(".fly_event_banner").hide(),!1;i.append(((e,t)=>{const n=(0,s.createEl)(null,"IMG").attr({src:e,alt:t}),i=(0,s.createEl)("event_link","A").attr({href:"javascript:void(0)"}).append(n);return b(i,{title:t}),(0,s.createEl)("swiper-slide","LI").append(i)})(n.imgFileUrladrs,n.imgAltTagCntt));const o=$(t.item).eq(e);o.find("A").on("click",(e=>{e.preventDefault(),m(n.webLinkUrladrs,"Y"===n.nuwinYsno)})),r.push(o)})),o.length&&o.remove(),this.$root.find(".fly_event_banner").append(this.getElement("swiperControl")),this.getElement("swiperControl")):this.$root.find(".fly_event_banner").hide(),r.length<2?this.getElement("swiperControl").remove():setTimeout((()=>{this._createSwiper()}),20)}_createSwiper(){this._swiper=new CustomSwiper(this.$root.find(".swiper-container"),{slidesPerView:"1",speed:500,navigation:{nextEl:this.getElement("swiperNextBtn")[0],prevEl:this.getElement("swiperPrevBtn")[0]},pagination:{el:this.getElement("swiperPagenation")[0],type:"fraction",formatFractionCurrent:s.n2pad,formatFractionTotal:s.n2pad}})}initDOM(){if(null==this.$root||!this.$root.length)return;const{elements:e}=this.options;this.setElement("ad",this.$root.find(e.adWrap));const t=this.$root.find(e.event.wrap);this.setElement("eventWrap",this.$root.find(e.event.wrap));const n=t.find(e.event.banner);this.setElement("banner",n),this.setElement("eventItemWrap",t.find(e.event.itemWrap)),this.setElement("guide",this.$root.find(e.guideWrap));const i=this.$root.find(e.benefitLink);b(i,{type:"텍스트",title:"쿠폰/혜택"}),this.setElement("benefitLinkBtn",i);const r=t.children(e.event.button);b(r,{type:"텍스트",title:"이벤트"}).attr("href",(0,s.parseStageURL)("/EVT/")),this.setElement("eventLinkBtn",r);const o=(0,s.createEl)("swiper_control_box"),l=(0,s.createEl)({type:"button",class:"swiper-button-prev",html:'<span class="hidden">이전</span>'},"button"),a=(0,s.createEl)({type:"button",class:"swiper-button-next",html:'<span class="hidden">다음</span>'},"button"),p=(0,s.createEl)("swiper-pagination");o.append([l,p,a]),this.setElement("swiperContainer",n.find(e.event.swiper.wrap)),this.setElement("swiperNextBtn",a),this.setElement("swiperPrevBtn",l),this.setElement("swiperPagenation",p),this.setElement("swiperControl",o),this.$root.find("#wing_coupon").on("click",(e=>{window.location.href=(0,s.parseStageURL)("/EVT/benefit")})),this.$root.find("#wing_special").on("click",(e=>{this.ui.toast("오늘만 특가 페이지로 이동")})),this.$root.find("#wing_shop_guide").on("click",(e=>{this.ui.toast("혜택 가이드 페이지로 이동")}))}}var k=new v},27545:function(e,t,n){n.d(t,{e_:function(){return r}});n(13792);var i=n(96526);function r(e){const t=(0,i.c2)("/api".concat((0,i._7)("api.urls.adv")),{url:e});return this.$http(t).catch((e=>[]))}}},function(e){return e.O(0,[321,160,712],(function(){return t=865,e(e.s=t);var t})),e.O()}])}));